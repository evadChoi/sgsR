[{"path":"/articles/calculating.html","id":"dist","dir":"Articles","previous_headings":"","what":"calculate_distance","title":"calculating","text":"calculate_distance() function takes input raster access data outputs per pixel distance nearest access point. function particular value constraining sampling protocols sample_clhs() function output raster layer can used cost constraint.output raster input calculated distance layer (dist2access) appended.","code":"calculate_distance(raster = sraster, # input                    access = access, # define access road network                    plot = TRUE) # plot #> class       : SpatRaster  #> dimensions  : 277, 373, 2  (nrow, ncol, nlyr) #> resolution  : 20, 20  (x, y) #> extent      : 431100, 438560, 5337700, 5343240  (xmin, xmax, ymin, ymax) #> coord. ref. : UTM Zone 17, Northern Hemisphere  #> sources     : memory   #>               memory   #> names       :      strata, dist2access  #> min values  : 1.000000000, 0.006621213  #> max values  :        4.00,     1061.66"},{"path":"/articles/calculating.html","id":"calculate_pcomp","dir":"Articles","previous_headings":"","what":"calculate_pcomp","title":"calculating","text":"calculate_pcomp() function take mraster input perform principal component analysis. number components defined nComp parameter specify number components rasterized output.","code":"calculate_pcomp(mraster = mraster, # input                 nComp = 5, # number of components to output                 plot = TRUE, # plot                 details = TRUE) # details about the principal component analysis appended #> $pca #> Standard deviations (1, .., p=9): #> [1] 2.66328897 1.09805898 0.66339469 0.41858538 0.22109594 0.14478794 #> [7] 0.09669328 0.07739106 0.02581106 #>  #> Rotation (n x k) = (9 x 9): #>                PC1         PC2         PC3         PC4         PC5 #> zmax     0.3718561  0.05890652  0.13655303  0.18644188 -0.02967021 #> zmean    0.2892076  0.11179079 -0.94037185  0.11669464 -0.01101177 #> zsd      0.2902484 -0.57132611  0.07358411 -0.03485495 -0.12710815 #> pzabove2 0.2762415  0.57389014  0.11046261 -0.48982874 -0.53278380 #> zq20     0.3222793  0.42913513  0.17765055  0.04688184  0.69772164 #> zq50     0.3621931  0.06711670  0.16260903  0.50497308 -0.03554264 #> zq70     0.3669446 -0.07622676  0.13483825  0.33474905 -0.33679147 #> zq90     0.3576125 -0.24286784  0.04467110 -0.28486752  0.00494469 #> zq95     0.3463317 -0.27351876 -0.03548477 -0.50997312  0.31217248 #>                   PC6          PC7         PC8          PC9 #> zmax     -0.022902433  0.058181544  0.12813760 -0.885232514 #> zmean     0.061423536  0.005559276 -0.04493042  0.001085691 #> zsd       0.373461072 -0.062831197 -0.65029797 -0.015746780 #> pzabove2  0.007219003  0.005909104 -0.23569527  0.052045306 #> zq20      0.371793616 -0.128585416 -0.12943905  0.141020587 #> zq50     -0.525190662  0.398814446 -0.24627692  0.293390931 #> zq70      0.136444231 -0.587797301  0.42249155  0.270652072 #> zq90      0.287643242  0.607152727  0.49439800  0.184814994 #> zq95     -0.583751620 -0.320739852  0.05279230  0.005601089 #>  #> $raster #> class       : SpatRaster  #> dimensions  : 277, 373, 5  (nrow, ncol, nlyr) #> resolution  : 20, 20  (x, y) #> extent      : 431100, 438560, 5337700, 5343240  (xmin, xmax, ymin, ymax) #> coord. ref. : UTM Zone 17, Northern Hemisphere  #> sources     : memory   #>               memory   #>               memory   #>               ... and 2 more source(s) #> names       :        PC1,        PC2,        PC3,        PC4,        PC5  #> min values  :  -6.675657, -14.741405,  -1.735068,  -9.384677,  -1.272558  #> max values  :  13.828171,   4.197435,   4.022076,   1.821104,   2.243303"},{"path":"/articles/calculating.html","id":"calculate_sampsize","dir":"Articles","previous_headings":"","what":"calculate_sampsize","title":"calculating","text":"calculate_sampsize() function allows users determine appropriate sample size using relative standard error input metric. mraster multiple layers provided, sample sizes determined layers. plot = TRUE rse defined, sequence rse values visualized indicators value matching sample size.","code":"#--- determine sample size based on relative standard error (rse) of 1% ---# calculate_sampsize(mraster = mraster,                    rse = 0.01) #>   nSamp  rse      var #> 1  2030 0.01     zmax #> 2  1341 0.01    zmean #> 3  1862 0.01      zsd #> 4  4091 0.01 pzabove2 #> 5  3647 0.01     zq20 #> 6  2581 0.01     zq50 #> 7  2110 0.01     zq70 #> 8  1396 0.01     zq90 #> 9  1134 0.01     zq95 #--- change default threshold sequence values ---#  #--- if increment and rse are not divisible the closes value will be taken ---# p <- calculate_sampsize(mraster = mraster,                    rse = 0.025,                    start = 0.01,                    end = 0.08,                    increment = 0.01,                    plot = TRUE) #> 'rse' not perfectly divisible by 'incremenent.  #> Selecting closest sample size (rse = 0.03) based on values.  p #> $nSamp #> Registered S3 method overwritten by 'cli': #>   method     from          #>   print.boxx spatstat.geom #> # A tibble: 9 x 3 #> # Groups:   var [9] #>   nSamp   rse var      #>   <dbl> <dbl> <chr>    #> 1   230  0.03 zmax     #> 2   151  0.03 zmean    #> 3   211  0.03 zsd      #> 4   474  0.03 pzabove2 #> 5   421  0.03 zq20     #> 6   295  0.03 zq50     #> 7   240  0.03 zq70     #> 8   158  0.03 zq90     #> 9   128  0.03 zq95     #>  #> $plot"},{"path":"/articles/calculating.html","id":"calculate_allocation","dir":"Articles","previous_headings":"","what":"calculate_allocation","title":"calculating","text":"calculate_allocation() function calculates total number samples allocated sampling based total sample value (nSamp) input sraster. function utilized number functions including sample_strat. Three methods allocation currently included: proportional (prop; default), optimal (optim) allocation, equal (equal) allocation. Proportional - Samples allocated based area coverage strata. default method. Optimal - Samples allocated based within strata variation. Equal - number samples (nSamp) allocated strata.","code":""},{"path":"/articles/calculating.html","id":"proportional","dir":"Articles","previous_headings":"calculate_allocation","what":"Proportional allocation","title":"calculating","text":"Notice results total negative. indicates existing samples represent strata samples removed avoid representation. number added/removed details $total.","code":"#--- perform grid sampling ---# calculate_allocation(sraster = sraster,                       nSamp = 200) #>   strata total #> 1      1    47 #> 2      2    57 #> 3      3    41 #> 4      4    54 #--- calculate existing samples to include ---# e.sr <- extract_strata(sraster = sraster,                         existing = existing)  calculate_allocation(sraster = sraster,                       nSamp = 200,                       existing = e.sr) #>   strata total need #> 1      1    -5   47 #> 2      2     8   57 #> 3      3     1   41 #> 4      4    -5   54"},{"path":"/articles/calculating.html","id":"optimal","dir":"Articles","previous_headings":"calculate_allocation","what":"Optimal Allocation","title":"calculating","text":"Optimal allocation utilizes within strata metric variation allocate samples. means addition providing sraster, specific metric (mraster) must provided calculate variation optimally allocate samples.","code":"calculate_allocation(sraster = sraster, # stratified raster                      nSamp = 200, # desired sample number                      existing = e.sr, #existing samples                      allocation = \"optim\", # optimal allocation                      mraster = mraster$zmax, # metric raster                      force = TRUE) # force nSamp number #>   strata total need #> 1      1    -4   48 #> 2      2     2   51 #> 3      3    11   51 #> 4      4    -9   50"},{"path":"/articles/calculating.html","id":"equal","dir":"Articles","previous_headings":"calculate_allocation","what":"Equal allocation","title":"calculating","text":"may instance user wants number samples allocated strata. case using allocation = equal ideal. instance, nSamp relates total number samples per strata rather total number samples overall. yields total 80 samples (20 nSamp 4 strata sraster.)","code":"calculate_allocation(sraster = sraster, # stratified raster                      nSamp = 20, # desired sample number                      allocation = \"equal\") # optimal allocation #> # A tibble: 4 x 2 #>   strata total #>    <dbl> <dbl> #> 1      1    20 #> 2      2    20 #> 3      3    20 #> 4      4    20"},{"path":"/articles/calculating.html","id":"sampeval","dir":"Articles","previous_headings":"","what":"Sample evaluation algorithms","title":"calculating","text":"following algorithms initially developed Dr. Brendan Malone University Sydney. work graciously provided depth description functionality algorithms originally developed improve soil sampling strategies. functions modified implemented can used structurally guided sampling approaches. Many thanks Dr. Malone excellent collaborator proponent open source algorithms. Please consult original reference ideas scripts extremely valuable helpful understanding sampling rationale. Malone BP, Minansy B, Brungard C. 2019. methods improve utility conditioned Latin hypercube sampling. PeerJ 7:e6451 DOI 10.7717/peerj.6451","code":""},{"path":"/articles/calculating.html","id":"coobs","dir":"Articles","previous_headings":"Sample evaluation algorithms","what":"calculate_coobs","title":"calculating","text":"calculate_coobs() function perform COunt OBServations (coobs) algorithm using existing sample data mraster covariates. algorithm aids user understanding existing sample data set distributed among landscape relation mraster covariates. output coobs raster used constrain clhs sampling using sample_clhs() areas reprented. coobs raster determines many observations similar terms covariate space every pixel.fucntion takes advantage parallel processing routines.","code":"calculate_coobs(mraster = mraster, # input                 existing = existing, # existing samples                 cores = 4, # parallel cores to use                 details = TRUE, # provide details from algorithm output                 plot = TRUE, # plot                 filename = tempfile(fileext = \".tif\")) # write output raster to tif"},{"path":"/articles/calculating.html","id":"lhseval","dir":"Articles","previous_headings":"","what":"Latin hypercube sampling evaluation algorithms","title":"calculating","text":"following 2 algorithms provide means maximize effectiveness latin hypercube sampling protocols.","code":""},{"path":"/articles/calculating.html","id":"lhspop","dir":"Articles","previous_headings":"Latin hypercube sampling evaluation algorithms","what":"calculate_lhsPop","title":"calculating","text":"calculate_lhsPop() function calculates population level statistics mraster covariates used including calculating principal components, quantile & covariate distributions, Kullback–Leibler divergence testing. outputs function mandatory use calculate_lhsOpt() function described next section. output details following: $values - Pixel values mraster $pcaLoad - PCA loadings $matQ - Quantile matrix $matCov - Covariate matrix","code":"#--- by default all statistical data are calculated ---# calculate_lhsPop(mraster = mraster) # input #--- statistical analyses can be chosen by setting their parameter to `FALSE` ---# calculate_lhsPop(mraster = mraster, # input                   nQuant = 10, # desired number of quantiles                  PCA = FALSE) # choose not to calculate PCA's"},{"path":"/articles/calculating.html","id":"lhsopt","dir":"Articles","previous_headings":"Latin hypercube sampling evaluation algorithms","what":"calculate_lhsOpt","title":"calculating","text":"calculate_lhsOpt() function performs bootsrapped latin hypercube sampling approach population level analysis mraster data performed determine optimal Latin hypercube sample size. Using statistical data calculated using calculate_lhsPop() varying sample sizes defined minSamp, maxSamp, step rep. Sampling protocols conducted statistical effectiveness sampling outcomes evaluated determine sample size minimized statistical representation maximized.","code":"#--- calculate lhsPop details ---# poplhs <- calculate_lhsPop(mraster = mr)  calculate_lhsOpt(popLHS = poplhs) calculate_lhsOpt(popLHS = poplhs,                   PCA = FALSE,                   iter = 200)"},{"path":"/articles/sampling.html","id":"access","dir":"Articles","previous_headings":"","what":"Access","title":"sampling","text":"feature sample_* functions ability define access corridors. Users can supply road access network (must sf line objects) define buffers around access samples excluded included. Important additional parameters access provided : buff_inner - inner buffer defines distance access samples taken (.e. don’t want samples within 50 m access layer set buff_inner = 50). buff_outer - Maximum distance samples can located access (.e. don’t want samples 200 meters access layer set buff_inner = 200)","code":""},{"path":"/articles/sampling.html","id":"srs","dir":"Articles","previous_headings":"","what":"sample_srs","title":"sampling","text":"provided simple example using sample_srs() function vignette(\"sgsR\"). provide additional examples . Notice input sample_srs() raster. means either sraster mraster supported.","code":"#--- perform simple random sampling ---# sample_srs(raster = sraster, # input sraster            nSamp = 200, # number of desired samples            plot = TRUE) # plot #> Simple feature collection with 200 features and 0 fields #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: 431190 ymin: 5337710 xmax: 438530 ymax: 5343230 #> CRS:           +proj=utm +zone=17 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs #> First 10 features: #>                  geometry #> 1  POINT (435410 5340210) #> 2  POINT (435410 5340210) #> 3  POINT (433010 5342170) #> 4  POINT (435490 5337750) #> 5  POINT (436110 5339610) #> 6  POINT (434950 5338910) #> 7  POINT (434910 5338730) #> 8  POINT (431710 5342750) #> 9  POINT (436010 5340110) #> 10 POINT (433910 5338830) sample_srs(raster = mraster, # input mraster            nSamp = 200, # number of desired samples            access = access, # define access road network            mindist = 200, # minimum distance samples must be apart from one another            buff_inner = 50, # inner buffer - no samples within this distance from road            buff_outer = 200, # outer buffer - no samples further than this distance from road            plot = TRUE) # plot #> Simple feature collection with 200 features and 0 fields #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: 431110 ymin: 5337710 xmax: 438550 ymax: 5343170 #> CRS:           +proj=utm +zone=17 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs #> First 10 features: #>                  geometry #> 1  POINT (435430 5337890) #> 2  POINT (434390 5339330) #> 3  POINT (431130 5342710) #> 4  POINT (438170 5341370) #> 5  POINT (431990 5342630) #> 6  POINT (436630 5342910) #> 7  POINT (431670 5338050) #> 8  POINT (433690 5340310) #> 9  POINT (434710 5342810) #> 10 POINT (432670 5340470) sample_srs(raster = sraster, # input            nSamp = 200, # number of desired samples            access = access, # define access road network            buff_inner = 50, # inner buffer - no samples within this distance from road            buff_outer = 200, # outer buffer - no samples further than this distance from road            plot = TRUE, # plot            filename = tempfile(fileext = \".shp\")) # write output samples to file #> Writing layer `file7e743c24766c' to data source  #>   `C:\\Users\\tgood.stu\\AppData\\Local\\Temp\\RtmpugH59X\\file7e743c24766c.shp' using driver `ESRI Shapefile' #> Writing 200 features with 0 fields and geometry type Point. #> Simple feature collection with 200 features and 0 fields #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: 431370 ymin: 5337730 xmax: 438530 ymax: 5343230 #> CRS:           +proj=utm +zone=17 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs #> First 10 features: #>                  geometry #> 1  POINT (437290 5342150) #> 2  POINT (437290 5342150) #> 3  POINT (437950 5341250) #> 4  POINT (437870 5339870) #> 5  POINT (433450 5340970) #> 6  POINT (435990 5339670) #> 7  POINT (433350 5341450) #> 8  POINT (437850 5341850) #> 9  POINT (434350 5337830) #> 10 POINT (438270 5340090)"},{"path":"/articles/sampling.html","id":"systematic","dir":"Articles","previous_headings":"","what":"sample_systematic","title":"sampling","text":"sample_systematic() function applies systematic sampling across area cellsize parameter defines resolution tessellation. Tesselation shape options defined square parameter, regular grid TRUE (default) hexagonal FALSE. location samples can also adjusted using locations parameter, centers takes center, corners takes corners, random takes random location within tessellation.","code":"#--- perform grid sampling ---# sample_systematic(raster = sraster, # input sraster                   cellsize = 1000, # grid distance                   plot = TRUE) # plot #> Simple feature collection with 40 features and 0 fields #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: 431600 ymin: 5338200 xmax: 437600 ymax: 5343200 #> CRS:           +proj=utm +zone=17 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs #> First 10 features: #>                  geometry #> 1  POINT (431600 5338200) #> 2  POINT (432600 5338200) #> 3  POINT (433600 5338200) #> 4  POINT (434600 5338200) #> 5  POINT (435600 5338200) #> 6  POINT (436600 5338200) #> 7  POINT (437600 5338200) #> 8  POINT (432600 5339200) #> 9  POINT (433600 5339200) #> 10 POINT (434600 5339200) #--- perform grid sampling ---# sample_systematic(raster = sraster, # input sraster                   cellsize = 500, # grid distance                   square = FALSE, # hexagonal tessellation                   location = \"random\", # random sample within tessellation                   plot = TRUE) # plot #> Simple feature collection with 168 features and 0 fields #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: 431175 ymin: 5337706 xmax: 438499.9 ymax: 5343240 #> CRS:           +proj=utm +zone=17 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs #> First 10 features: #>                    geometry #> 1  POINT (431179.1 5340377) #> 2  POINT (431225.8 5341029) #> 3  POINT (431312.8 5342072) #> 4  POINT (431187.2 5342688) #> 5    POINT (431175 5338165) #> 6  POINT (431226.2 5340018) #> 7  POINT (431519.6 5340685) #> 8  POINT (431404.6 5341467) #> 9  POINT (431707.6 5337842) #> 10 POINT (431751.4 5338522) sample_systematic(raster = sraster, # input sraster             cellsize = 500, # grid distance             access = access, # define access road network             buff_inner = 50, # inner buffer - no samples within this distance from road             buff_outer = 200, # outer buffer - no samples further than this distance from road             square = FALSE, # hexagonal tessellation             location = \"corners\", # take corners instead of centers             plot = TRUE) #> Simple feature collection with 470 features and 0 fields #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: 431100 ymin: 5337844 xmax: 438350 ymax: 5343185 #> CRS:           +proj=utm +zone=17 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs #> First 10 features: #>                  geometry #> 1  POINT (431100 5340875) #> 2  POINT (431100 5340587) #> 3  POINT (431100 5340587) #> 4  POINT (431350 5340442) #> 5  POINT (431100 5340875) #> 6  POINT (431100 5340875) #> 7  POINT (431350 5342752) #> 8  POINT (431350 5340442) #> 9  POINT (431100 5340587) #> 10 POINT (431100 5340875)"},{"path":"/articles/sampling.html","id":"sstrat","dir":"Articles","previous_headings":"","what":"sample_strat","title":"sampling","text":"sample_strat() function contains hierarchical sampling algorithm originally developed Martin Queinnec. Queinnec, M., White, J. C., & Coops, N. C. (2021). Comparing airborne spaceborne photon-counting LiDAR canopy structural estimates across different boreal forest types. Remote Sensing Environment, 262(August 2020), 112510. algorithm uses moving window (wrow wcol parameters) filter input sraster locations stratum pixels spatially grouped rather dispersed individually across landscape. sampling performed 2 stages: Rule 1 - Sample within spatially grouped stratum pixels. Moving window defined wrow wcol. Rule 2 - samples exist satisfy desired sampling count, individual stratum pixels sampled. rule applied select particular sample defined rule attribute output samples. give examples :  cases, user may wish include existing sample data set within algorithm. order adjust total number samples needed per stratum reflect already present existing, can use utility function extract_strata(). function takes input sraster existing sample data set extracts stratum sample. samples can input sample_strat() function adjusts total required sample per class based representation existing. Notice e.sr now attribute named strata. parameter , sample_strat() give error.  mindist parameter defined example specifies minimum euclidian distance samples must apat one another. Notice sample outputs type rule attributes outline whether samples existing new whether rule1 rule2 used select individual samples.  include parameter determines whether existing samples included total count samples defined nSamp. defaults include = FALSE.","code":"#--- perform stratified sampling random sampling ---# sample_strat(sraster = sraster, # input sraster              nSamp = 200, # desired sample number              plot = TRUE) # plot #> Simple feature collection with 199 features and 3 fields #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: 431130 ymin: 5337730 xmax: 438530 ymax: 5343130 #> CRS:           +proj=utm +zone=17 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs #> First 10 features: #>    strata type  rule               geometry #> x       1  new rule1 POINT (437590 5342030) #> x1      1  new rule1 POINT (437730 5340790) #> x2      1  new rule1 POINT (433010 5338210) #> x3      1  new rule1 POINT (438050 5342770) #> x4      1  new rule1 POINT (432450 5339870) #> x5      1  new rule1 POINT (436710 5339570) #> x6      1  new rule1 POINT (435910 5337930) #> x7      1  new rule1 POINT (436330 5337990) #> x8      1  new rule1 POINT (436370 5342910) #> x9      1  new rule1 POINT (437530 5339590) #--- extract strata values to existing samples ---#               e.sr <- extract_strata(sraster = sraster, # input sraster                        existing = existing) # existing samples to add strata value to  e.sr #> Simple feature collection with 200 features and 1 field #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: 431110 ymin: 5337730 xmax: 438530 ymax: 5343230 #> Projected CRS: UTM Zone 17, Northern Hemisphere #> First 10 features: #>    strata               geometry #> 1       3 POINT (433250 5341250) #> 2       4 POINT (438350 5340390) #> 3       1 POINT (435030 5338770) #> 4       3 POINT (436630 5342830) #> 5       2 POINT (436790 5339290) #> 6       1 POINT (435070 5339290) #> 7       2 POINT (438210 5338410) #> 8       4 POINT (431130 5338370) #> 9       4 POINT (432890 5342090) #> 10      3 POINT (435070 5338290) sample_strat(sraster = sraster, # input sraster              nSamp = 200, # desired sample number              access = access, # define access road network              existing = e.sr, # existing samples with strata values              mindist = 200, # minimum distance samples must be apart from one another              buff_inner = 50, # inner buffer - no samples within this distance from road              buff_outer = 200, # outer buffer - no samples further than this distance from road              plot = TRUE) # plot #> Simple feature collection with 399 features and 3 fields #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: 431110 ymin: 5337730 xmax: 438530 ymax: 5343230 #> CRS:           +proj=utm +zone=17 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs #> First 10 features: #>    strata     type     rule               geometry #> 3       1 existing existing POINT (435030 5338770) #> 6       1 existing existing POINT (435070 5339290) #> 14      1 existing existing POINT (432070 5342870) #> 15      1 existing existing POINT (434450 5342810) #> 16      1 existing existing POINT (435670 5341290) #> 17      1 existing existing POINT (431190 5341610) #> 20      1 existing existing POINT (437990 5341210) #> 24      1 existing existing POINT (436570 5339650) #> 27      1 existing existing POINT (433170 5341790) #> 29      1 existing existing POINT (437690 5339490) sample_strat(sraster = sraster, # input              nSamp = 200, # desired sample number              access = access, # define access road network              existing = e.sr, # existing samples with strata values              include = TRUE, # include existing plots in nSamp total              buff_inner = 50, # inner buffer - no samples within this distance from road              buff_outer = 200, # outer buffer - no samples further than this distance from road              filename = tempfile(fileext = \".shp\"), # write output samples to file              plot = TRUE) # plot #> Writing layer `file7e7417b37d2d' to data source  #>   `C:\\Users\\tgood.stu\\AppData\\Local\\Temp\\RtmpugH59X\\file7e7417b37d2d.shp' using driver `ESRI Shapefile' #> Writing 199 features with 3 fields and geometry type Point. #> Simple feature collection with 199 features and 3 fields #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: 431110 ymin: 5337730 xmax: 438530 ymax: 5343230 #> CRS:           +proj=utm +zone=17 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs #> First 10 features: #>    strata     type     rule               geometry #> 3       1 existing existing POINT (435030 5338770) #> 6       1 existing existing POINT (435070 5339290) #> 14      1 existing existing POINT (432070 5342870) #> 15      1 existing existing POINT (434450 5342810) #> 16      1 existing existing POINT (435670 5341290) #> 17      1 existing existing POINT (431190 5341610) #> 20      1 existing existing POINT (437990 5341210) #> 24      1 existing existing POINT (436570 5339650) #> 27      1 existing existing POINT (433170 5341790) #> 29      1 existing existing POINT (437690 5339490)"},{"path":"/articles/sampling.html","id":"clhs","dir":"Articles","previous_headings":"","what":"sample_clhs","title":"sampling","text":"sample_clhs() function implements conditioned latin hypercube (clhs) sampling functionality. number functions sgsR package help provide guidance clhs sampling including calculate_lhsPop() calculate_lhsOpt(). sure check functions better understanding optimize sample numbers. Syntax function similar others shown , though parameters like iter, define number iterations within Metropolis-Hastings process important consider. examples use low iter value takes less time run. Default values iter within clhs package 10,000.    cost parameter defines mraster covariate used constrain clhs sampling. number variables. example distance pixel road access (see example ), terrain slope, output calculate_coobs(), many others.","code":"sample_clhs(mraster = mraster, # input             nSamp = 200, # desired sample number             plot = TRUE, # plot              iter = 100) # number of iterations sample_clhs(mraster = mraster, # input             nSamp = 300, # desired sample number             existing = existing, # existing samples             iter = 100, # number of iterations             details = TRUE, # output details             plot = TRUE) # clhs details sample_clhs(mraster = mraster, # input             nSamp = 300, # desired sample number             iter = 100, # number of iterations             existing = existing, # existing samples             access = access, # define access road network             buff_inner = 100, # inner buffer - no samples within this distance from road             buff_outer = 300, # outer buffer - no samples further than this distance from road             plot = TRUE) # plot #--- cost constrained examples ---# #--- calculate distance to access layer for each pixel in mr ---# mr.c <- calculate_distance(raster = mraster, # input                            access = access,                            plot = TRUE) # define access road network sample_clhs(mraster = mr.c, # input             nSamp = 250, # desired sample number             iter = 100, # number of iterations             cost = \"dist2access\", # cost parameter - name defined in calculate_distance()             plot = TRUE) # plot sample_clhs(mraster = mr.c, # input             nSamp = 250, # desired sample number             existing = existing, # existing samples             iter = 100, # number of iterations             cost = \"dist2access\", # cost parameter - name defined in calculate_distance()             plot = TRUE) # plot"},{"path":"/articles/sampling.html","id":"balanced","dir":"Articles","previous_headings":"","what":"sample_balanced","title":"sampling","text":"sample_balanced() algorithm performs balanced sampling methodology stratifyR / SamplingBigData packages.","code":"sample_balanced(mraster = mraster, # input                 nSamp = 200, # desired sample number                 plot = TRUE) # plot #> Simple feature collection with 200 features and 0 fields #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: 431110 ymin: 5337770 xmax: 438510 ymax: 5343170 #> CRS:           +proj=utm +zone=17 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs #> First 10 features: #>                  geometry #> 1  POINT (437770 5343170) #> 2  POINT (434430 5343090) #> 3  POINT (432610 5343070) #> 4  POINT (432950 5343030) #> 5  POINT (435470 5343010) #> 6  POINT (431790 5342830) #> 7  POINT (435730 5342810) #> 8  POINT (434710 5342770) #> 9  POINT (431230 5342750) #> 10 POINT (434710 5342730) sample_balanced(mraster = mraster, # input                 nSamp = 100, # desired sample number                 algorithm = \"lcube\", # algorithm type                 access = access, # define access road network                 buff_inner = 50, # inner buffer - no samples within this distance from road                 buff_outer = 200) # outer buffer - no samples further than this distance from road #> Simple feature collection with 100 features and 0 fields #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: 431130 ymin: 5337830 xmax: 438470 ymax: 5343230 #> CRS:           +proj=utm +zone=17 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs #> First 10 features: #>                  geometry #> 1  POINT (432490 5342190) #> 2  POINT (436350 5340150) #> 3  POINT (438410 5338170) #> 4  POINT (437630 5342330) #> 5  POINT (437270 5338030) #> 6  POINT (436130 5342050) #> 7  POINT (432370 5340370) #> 8  POINT (432670 5340610) #> 9  POINT (435450 5342410) #> 10 POINT (431630 5340490)"},{"path":"/articles/sampling.html","id":"ahels","dir":"Articles","previous_headings":"","what":"sample_ahels","title":"sampling","text":"sample_ahels() function performs adapted Hypercube Evaluation Legacy Sample (ahels) algorithm using existing sample data mraster. New samples allocated based quantile ratios existing sample mraster covariate dataset. algorithm: Determines quantile distributions existing samples mraster covariates. Determines quantiles disparity samples covariates. Prioritizes sampling within quantile improve representation. use function, user first specify number quantiles (nQuant) followed either nSamp (total number desired samples added) threshold (proportional representation sample covariate quantiles - default 0.9) parameters. recommended use threshold values 0.9 higher values can currently cause algorithm add samples repeatedly.  Notice threshold, nSamp, nQuant defined. Thats defaults threshold = 0.9 nQuant = 10. first matrix output shows quantile ratios sample covariates. value 1.0 means samples covariates equally represented. Values 1.0 represented sample, less 1 represented sample.  Note total number samples 500. total existing samples (200) number defined nSamp = 300.","code":"sample_ahels(mraster = mraster[[1:3]], # input mraster - first 3 layers only              existing = existing, # existing samples              plot = TRUE) # plot #> Simple feature collection with 271 features and 4 fields #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: 431110 ymin: 5337730 xmax: 438530 ymax: 5343230 #> CRS:           +proj=utm +zone=17 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs #> First 10 features: #>        type  zmax zmean  zsd               geometry #> 1  existing 13.17  75.1 5.80 POINT (433250 5341250) #> 2  existing 11.92  84.7 5.53 POINT (438350 5340390) #> 3  existing  6.68   5.1 6.71 POINT (435030 5338770) #> 4  existing 17.81  91.3 5.93 POINT (436630 5342830) #> 5  existing  3.64  52.3 2.08 POINT (436790 5339290) #> 6  existing  8.04  95.0 4.83 POINT (435070 5339290) #> 7  existing  1.88   7.9 0.43 POINT (438210 5338410) #> 8  existing 12.23  95.5 2.65 POINT (431130 5338370) #> 9  existing 12.39  80.6 3.87 POINT (432890 5342090) #> 10 existing 13.82  93.2 3.13 POINT (435070 5338290) sample_ahels(mraster = mraster[[1:3]], # input mraster - first 3 layers only              existing = existing, # existing samples              nQuant = 20, # define 20 quantiles              nSamp = 300, # total samples desired              filename = tempfile(fileext = \".shp\")) # write samples to disc #> Simple feature collection with 500 features and 4 fields #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: 431110 ymin: 5337710 xmax: 438550 ymax: 5343230 #> CRS:           +proj=utm +zone=17 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs #> First 10 features: #>        type  zmax zmean  zsd               geometry #> 1  existing 13.17  75.1 5.80 POINT (433250 5341250) #> 2  existing 11.92  84.7 5.53 POINT (438350 5340390) #> 3  existing  6.68   5.1 6.71 POINT (435030 5338770) #> 4  existing 17.81  91.3 5.93 POINT (436630 5342830) #> 5  existing  3.64  52.3 2.08 POINT (436790 5339290) #> 6  existing  8.04  95.0 4.83 POINT (435070 5339290) #> 7  existing  1.88   7.9 0.43 POINT (438210 5338410) #> 8  existing 12.23  95.5 2.65 POINT (431130 5338370) #> 9  existing 12.39  80.6 3.87 POINT (432890 5342090) #> 10 existing 13.82  93.2 3.13 POINT (435070 5338290)"},{"path":"/articles/sgsR.html","id":"str","dir":"Articles","previous_headings":"","what":"Algorithm structure","title":"sgsR","text":"sgsR scripted primarily using terra package raster processing sf package vector manipulation. 3 primary function verbs package currently uses: strat_* - stratify verb implies functions applying stratification algorithms input metrics raster mraster output stratified raster sraster. sample_* - sample verb implies functions extracting samples srasters produced strat_* functions. algorithms (e.g. sample_srs(), sample_balanced(), sample_systematic()) able take mrasters inputs dependent stratified inputs sampling. calculate_* - calculate verb implies functions performing calculations used consequent processing. use predefined sample analysis algorithms calculate_ahels(), calculate_coobs() also included.","code":""},{"path":"/articles/sgsR.html","id":"example-data","dir":"Articles","previous_headings":"","what":"Example data","title":"sgsR","text":"Worked examples functions provided using data internal package. load internal mraster road access data use following code. Follow along machine see outputs get better sense package functions.","code":""},{"path":"/articles/sgsR.html","id":"mrast","dir":"Articles","previous_headings":"Example data","what":"Metrics rasters - mraster","title":"sgsR","text":"","code":"library(sgsR) library(terra) library(sf)  #--- Load mraster and access files ---# r <- system.file(\"extdata\", \"wall_metrics.tif\", package = \"sgsR\")  #--- load the mraster using the terra package ---# mraster <- terra::rast(r)"},{"path":"/articles/sgsR.html","id":"vect","dir":"Articles","previous_headings":"Example data","what":"Road access data","title":"sgsR","text":"plot see first band (zmax) mraster access vector overlaid.","code":"a <- system.file(\"extdata\", \"roads.shp\", package = \"sgsR\")  #--- load the access vector using the sf package ---# access <- sf::st_read(a) #> Reading layer `roads' from data source  #>   `C:\\Users\\tgood.stu\\AppData\\Local\\Temp\\RtmpCYYtR3\\temp_libpath29b8306a58fc\\sgsR\\extdata\\roads.shp'  #>   using driver `ESRI Shapefile' #> Simple feature collection with 167 features and 2 fields #> Geometry type: MULTILINESTRING #> Dimension:     XY #> Bounding box:  xmin: 431100 ymin: 5337700 xmax: 438560 ymax: 5343240 #> Projected CRS: UTM_Zone_17_Northern_Hemisphere terra::plot(mraster[[1]]) terra::plot(access, add = TRUE, col = \"black\")"},{"path":"/articles/sgsR.html","id":"srast","dir":"Articles","previous_headings":"","what":"Stratified rasters - sraster","title":"sgsR","text":"purposes tutorial also going show produce basic sraster existing sample data used examples . make sraster use strat_kmeans() function input mraster stratified using kmeans algorithm.  sraster produced apply sample_srs() algorithm randomly samples points within sraster produce existing sample dataset.  now mraster, access, sraster existing data sets generated. Expect see data used examples document.","code":"#--- apply kmeans algorithm to metrics raster ---# sraster <- strat_kmeans(mraster = mraster, # use mraster as input for sampling                         nStrata = 4, # algorithm will produce 4 strata                         plot = TRUE) # algorithm will plot output #--- set seed ---# set.seed(2021)  #--- apply kmeans algorithm to metrics raster ---# existing <- sample_srs(raster = mraster, # use mraster as input for sampling                        nSamp = 200, # request 200 samples be taken                        mindist = 100, # define that samples must be 100 m apart                        plot = TRUE) # algorithm will plot output"},{"path":"/articles/sgsR.html","id":"pipe","dir":"Articles","previous_headings":"","what":"%>%","title":"sgsR","text":"sgsR package leverages %>% operator magrittr package. allows us “pipe” operations together save amount code needed achieve outcome. simple example .","code":"#--- non piped ---# sraster <- strat_kmeans(mraster = mraster, # use mraster as input for sampling                         nStrata = 4, # algorithm will produce 4 strata                         plot = TRUE) # algorithm will plot output  existing <- sample_srs(raster = sraster, # use mraster as input for sampling                        nSamp = 200, # request 200 samples be taken                        mindist = 100, # define that samples must be 100 m apart                        plot = TRUE) # algorithm will plot output  extract_metrics(mraster = mraster,                 existing = existing)   #--- piped ---# strat_kmeans(mraster = mraster, nStrata = 4) %>%   sample_srs(., nSamp = 200, mindist = 100) %>%   extract_metrics(mraster = mraster, existing = .)"},{"path":"/articles/stratification.html","id":"kmeans","dir":"Articles","previous_headings":"","what":"strat_kmeans","title":"stratification","text":"provide preliminary example strat_kmeans() algorithm prepare sraster input data . Notice nothing plotted… ’s plot = FALSE default functions sgsR. See examples plot = TRUE.","code":"#--- perform stratification using k-means ---# strat_kmeans(mraster = mraster, # input              nStrata = 5) # algorithm will produce 4 strata #> class       : SpatRaster  #> dimensions  : 277, 373, 1  (nrow, ncol, nlyr) #> resolution  : 20, 20  (x, y) #> extent      : 431100, 438560, 5337700, 5343240  (xmin, xmax, ymin, ymax) #> coord. ref. : UTM Zone 17, Northern Hemisphere  #> source      : memory  #> name        : strata  #> min value   :      1  #> max value   :      5 strat_kmeans(mraster = mraster, # input              nStrata = 10, # algorithm will produce 10 strata              iter = 1000, # set minimum number of iterations to determine kmeans centers              algorithm = \"MacQueen\", # use MacQueen algorithm              plot = TRUE) # plot output #> class       : SpatRaster  #> dimensions  : 277, 373, 1  (nrow, ncol, nlyr) #> resolution  : 20, 20  (x, y) #> extent      : 431100, 438560, 5337700, 5343240  (xmin, xmax, ymin, ymax) #> coord. ref. : UTM Zone 17, Northern Hemisphere  #> source      : memory  #> name        : strata  #> min value   :      1  #> max value   :     10 strat_kmeans(mraster = mraster, # input              nStrata = 5, # algorithm will produce 4 strata              center = FALSE, # do not center data              scale = FALSE, # do not scale data              plot = TRUE, # plot output              filename = tempfile(fileext = \".tif\"), # write output sraster to file              overwrite = TRUE) # overwrite file on disc if it exists #> class       : SpatRaster  #> dimensions  : 277, 373, 1  (nrow, ncol, nlyr) #> resolution  : 20, 20  (x, y) #> extent      : 431100, 438560, 5337700, 5343240  (xmin, xmax, ymin, ymax) #> coord. ref. : UTM Zone 17, Northern Hemisphere  #> source      : memory  #> name        : strata  #> min value   :      1  #> max value   :      5"},{"path":"/articles/stratification.html","id":"strat_pcomp","dir":"Articles","previous_headings":"","what":"strat_pcomp","title":"stratification","text":"strat_pcomp() algorithm calculates principal components input mraster divides data equal sized strata. Strata can defined using primary (PC1) (nStrata), primary & secondary (PC2 - nStata2) principal components. nStata2 defined, PC2 used total number strata \\[nStrata * nStrata2\\].","code":"#--- perform stratification using principal components ---# strat_pcomp(mraster = mraster, # input             nStrata = 5, # 5 strata with primary PC only             plot = TRUE) # plot #> class       : SpatRaster  #> dimensions  : 277, 373, 1  (nrow, ncol, nlyr) #> resolution  : 20, 20  (x, y) #> extent      : 431100, 438560, 5337700, 5343240  (xmin, xmax, ymin, ymax) #> coord. ref. : UTM Zone 17, Northern Hemisphere  #> source      : memory  #> name        : strata  #> min value   :      1  #> max value   :      5 strat_pcomp(mraster = mraster, # input             nStrata = 4, # 4 strata with primary             nStrata2 = 4, # 4 strata with secondary PC - will produce 16 output strata             plot = TRUE) # produce output details #> class       : SpatRaster  #> dimensions  : 277, 373, 1  (nrow, ncol, nlyr) #> resolution  : 20, 20  (x, y) #> extent      : 431100, 438560, 5337700, 5343240  (xmin, xmax, ymin, ymax) #> coord. ref. : UTM Zone 17, Northern Hemisphere  #> source      : memory  #> name        : strata  #> min value   :      1  #> max value   :     16 strat_pcomp(mraster = mraster, # input             nStrata = 3, # 3 strata with primary PC             nStrata2 = 3, # 4 strata with secondary PC - will produce 9 output strata             filename = tempfile(fileext = \".tif\")) # write output sraster to file #> class       : SpatRaster  #> dimensions  : 277, 373, 1  (nrow, ncol, nlyr) #> resolution  : 20, 20  (x, y) #> extent      : 431100, 438560, 5337700, 5343240  (xmin, xmax, ymin, ymax) #> coord. ref. : UTM Zone 17, Northern Hemisphere  #> source      : memory  #> name        : strata  #> min value   :      1  #> max value   :      9"},{"path":"/articles/stratification.html","id":"strat_breaks","dir":"Articles","previous_headings":"","what":"strat_breaks","title":"stratification","text":"strat_breaks() function stratifies data based user-defined breaks covariates. single metric can defined additional metric2 can supplied. breaks breaks2 correspond user-defined breaks metric metric2 respectively. breaks created can input function using breaks breaks2 parameters.","code":"#--- perform stratification using user-defined breaks ---#  #--- define breaks for metric ---# breaks <- c(seq(0,100,20))  breaks #> [1]   0  20  40  60  80 100  #--- perform stratification using user-defined breaks ---#  values <- terra::values(mraster$zmax)  #--- define breaks for metric ---# breaks2 <- quantile(values, na.rm=TRUE)  breaks2 #>    0%   25%   50%   75%  100%  #>  0.00  5.62  9.07 12.16 23.82 #--- stratify on 1 metric only ---#  strat_breaks(mraster = mraster$zmean,              breaks = breaks,              details = TRUE,              plot = TRUE) #> $details #> $details$breaks #> [1]   0  20  40  60  80 100 #>  #> $details$breaks2 #> NULL #>  #>  #> $raster #> class       : SpatRaster  #> dimensions  : 277, 373, 1  (nrow, ncol, nlyr) #> resolution  : 20, 20  (x, y) #> extent      : 431100, 438560, 5337700, 5343240  (xmin, xmax, ymin, ymax) #> coord. ref. : UTM Zone 17, Northern Hemisphere  #> source      : memory  #> name        : strata  #> min value   :      1  #> max value   :      6  #>  #> $plot #--- stratify on 1 metric only ---#  strat_breaks(mraster = mraster$zmax,              breaks = breaks2,              details = TRUE,              plot = TRUE) #> $details #> $details$breaks #>    0%   25%   50%   75%  100%  #>  0.00  5.62  9.07 12.16 23.82  #>  #> $details$breaks2 #> NULL #>  #>  #> $raster #> class       : SpatRaster  #> dimensions  : 277, 373, 1  (nrow, ncol, nlyr) #> resolution  : 20, 20  (x, y) #> extent      : 431100, 438560, 5337700, 5343240  (xmin, xmax, ymin, ymax) #> coord. ref. : UTM Zone 17, Northern Hemisphere  #> source      : memory  #> name        : strata  #> min value   :      1  #> max value   :      5  #>  #> $plot"},{"path":"/articles/stratification.html","id":"strat_poly","dir":"Articles","previous_headings":"","what":"strat_poly","title":"stratification","text":"strat_poly() algorithm stratifies based spatial polygon attributes features. user may wish stratify based categorical empirical variables given ALS data (e.g. species forest inventory polygons). method allows user define attribute interest well features within attributes grouped stratification. user defines input poly associated attribute. raster layer must provided guide spatial extent resolution output stratification polygon. Based vector list features, stratification applied, polygon rasterized appropriate strata. attribute column must defined, features within must specified define number composition output strata. case attribute = \"NUTRIENTS\" features within NUTRIENTS (poor, rich, medium) define 3 desired output classes.  features can also made amalgamate classes. example rich medium features combined low left alone. 2 vectors added list, outputs 2 classes (low & rich/medium).  notice details parameter present . returns output outRaster, $lookUp table associated strata, polygon ($poly) created drive stratification based attribute features provided users.","code":"#--- load in polygon coverage ---# poly <- system.file(\"extdata\", \"inventory_polygons.shp\", package = \"sgsR\")  fri <- sf::st_read(poly) #> Reading layer `inventory_polygons' from data source  #>   `C:\\Users\\tgood.stu\\AppData\\Local\\Temp\\RtmpCYYtR3\\temp_libpath29b8306a58fc\\sgsR\\extdata\\inventory_polygons.shp'  #>   using driver `ESRI Shapefile' #> Simple feature collection with 632 features and 3 fields #> Geometry type: MULTIPOLYGON #> Dimension:     XY #> Bounding box:  xmin: 431100 ymin: 5337700 xmax: 438560 ymax: 5343240 #> Projected CRS: UTM_Zone_17_Northern_Hemisphere #--- stratify polygon coverage ---# #--- specify polygon attribute to stratify ---#  attribute <- \"NUTRIENTS\"  #--- specify features within attribute & how they should be grouped ---# #--- as a single vector ---#  features <- c(\"poor\", \"rich\", \"medium\")  srasterpoly <- strat_poly(poly = fri, # input polygon                           attribute = attribute, # attribute to stratify by                           features = features, # features within attribute                           raster = sraster, # raster to define extent and resolution for output                           plot = TRUE) # plot output #--- or as multiple lists ---# g1 <- \"poor\" g2 <- c(\"rich\", \"medium\")  features <- list(g1, g2)  strat_poly(poly = fri,            attribute = attribute,            features = features,            raster = sraster,            plot = TRUE,            details = TRUE) #> $outRaster #> class       : SpatRaster  #> dimensions  : 277, 373, 1  (nrow, ncol, nlyr) #> resolution  : 20, 20  (x, y) #> extent      : 431100, 438560, 5337700, 5343240  (xmin, xmax, ymin, ymax) #> coord. ref. : UTM Zone 17, Northern Hemisphere  #> source      : memory  #> name        : strata  #> min value   :      1  #> max value   :      2  #>  #> $lookUp #>   strata features #> 1      1     poor #> 2      2     rich #> 3      2   medium #>  #> $poly #>  class       : SpatVector  #>  geometry    : polygons  #>  dimensions  : 524, 2  (geometries, attributes) #>  extent      : 431100, 438560, 5337700, 5343240  (xmin, xmax, ymin, ymax) #>  coord. ref. : UTM_Zone_17_Northern_Hemisphere  #>  names       : NUTRIENTS strata #>  type        :     <chr>  <num> #>  values      :      poor      1 #>                     poor      1 #>                     poor      1"},{"path":"/articles/stratification.html","id":"strat_map","dir":"Articles","previous_headings":"","what":"strat_map","title":"stratification","text":"may instance multiple levels stratification desired. instance user may want combine output strat_poly() 3 classes, 4 class kmeans stratification kmeans. total number classes always multiplicative number strata. .e. sraster 3 strata sraster2 4 strata output strat_map() 12 strata total.  convention numeric value output strata concatenation (merging) sraster strata sraster2 strata. See $lookUp clear depiction .","code":"#--- map srasters ---# strat_map(sraster = srasterpoly, # strat_poly 3 class stratification           sraster2 = sraster, # strat_kmeans 4 class stratification           plot = TRUE) #> class       : SpatRaster  #> dimensions  : 277, 373, 1  (nrow, ncol, nlyr) #> resolution  : 20, 20  (x, y) #> extent      : 431100, 438560, 5337700, 5343240  (xmin, xmax, ymin, ymax) #> coord. ref. : UTM Zone 17, Northern Hemisphere  #> source      : memory  #> name        : strata  #> min value   :     11  #> max value   :     34 strat_map(sraster = srasterpoly, # strat_poly 3 class stratification           sraster2 = sraster, # strat_poly 3 class stratification           stack = TRUE, # stack input and oputput strata into multi layer ouput raster           details = TRUE, # provide additional details           plot = TRUE) # plot output #> Stacking sraster, sraster2, and their combination (stratamapped). #> $outRaster #> class       : SpatRaster  #> dimensions  : 277, 373, 3  (nrow, ncol, nlyr) #> resolution  : 20, 20  (x, y) #> extent      : 431100, 438560, 5337700, 5343240  (xmin, xmax, ymin, ymax) #> coord. ref. : UTM Zone 17, Northern Hemisphere  #> sources     : memory   #>               memory   #>               memory   #> names       : strata, strata2, stratamapped  #> min values  :      1,       1,           11  #> max values  :      3,       4,           34  #>  #> $lookUp #>    strata strata2 stratamapped #> 1       3       3           33 #> 2       3       1           31 #> 3       1       2           12 #> 4       1       4           14 #> 5       3       2           32 #> 6       3       4           34 #> 7       1       3           13 #> 8       1       1           11 #> 9       2       1           21 #> 10      2       3           23 #> 11      2       2           22 #> 12      2       4           24"},{"path":"/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Tristan RH Goodbody. Author, maintainer. Nicholas C Coops. Author.","code":""},{"path":"/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Tristan RH Goodbody Nicholas C Coops (2022). Structurally Guided Sampling Approaches using ALS Data. R package version 1.0.0. https://github.com/tgoodbody/sgsR","code":"@Manual{,   title = {Structurally Guided Sampling Approaches using ALS Data},   author = {Tristan RH Goodbody and Nicholas C Coops},   year = {2022},   note = {R package version 1.0.0},   url = {https://github.com/tgoodbody/sgsR}, }"},{"path":"/index.html","id":"sgsr---structurally-guided-sampling-","dir":"","previous_headings":"","what":"sgsR","title":"sgsR","text":"sgsR designed implement structurally guided sampling approaches enhanced forest inventories. package designed function using rasterized airborne laser scanning (ALS; Lidar) metrics allow stratification forested areas based structure.","code":""},{"path":"/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"sgsR","text":"can install released version sgsR Github :","code":"install.packages(\"devtools\") devtools::install_github(\"https://github.com/tgoodbody/sgsR\") library(sgsR)"},{"path":"/index.html","id":"implementation","dir":"","previous_headings":"","what":"Implementation","title":"sgsR","text":"Describe package fundamentals - vignette(\"sgsR\") Overview sampling algorithms - vignette(\"sampling\") Overview stratification algorithms - vignette(\"stratification\") Overview calculate algorithms - vignette(\"calculating\")","code":""},{"path":"/index.html","id":"collaborators","dir":"","previous_headings":"","what":"Collaborators","title":"sgsR","text":"thankful continued collaboration academic, private industry, government institutions help improve sgsR. Special thanks :","code":""},{"path":"/index.html","id":"funding","dir":"","previous_headings":"","what":"Funding","title":"sgsR","text":"Development sgsR made possible thanks financial support Canadian Wood Fibre Centre’s Forest Innovation Program.","code":""},{"path":"/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"GNU General Public License","title":"GNU General Public License","text":"Version 3, 29 June 2007Copyright © 2007 Free Software Foundation, Inc. <http://fsf.org/> Everyone permitted copy distribute verbatim copies license document, changing allowed.","code":""},{"path":"/LICENSE.html","id":"preamble","dir":"","previous_headings":"","what":"Preamble","title":"GNU General Public License","text":"GNU General Public License free, copyleft license software kinds works. licenses software practical works designed take away freedom share change works. contrast, GNU General Public License intended guarantee freedom share change versions program–make sure remains free software users. , Free Software Foundation, use GNU General Public License software; applies also work released way authors. can apply programs, . speak free software, referring freedom, price. General Public Licenses designed make sure freedom distribute copies free software (charge wish), receive source code can get want , can change software use pieces new free programs, know can things. protect rights, need prevent others denying rights asking surrender rights. Therefore, certain responsibilities distribute copies software, modify : responsibilities respect freedom others. example, distribute copies program, whether gratis fee, must pass recipients freedoms received. must make sure , , receive can get source code. must show terms know rights. Developers use GNU GPL protect rights two steps: (1) assert copyright software, (2) offer License giving legal permission copy, distribute /modify . developers’ authors’ protection, GPL clearly explains warranty free software. users’ authors’ sake, GPL requires modified versions marked changed, problems attributed erroneously authors previous versions. devices designed deny users access install run modified versions software inside , although manufacturer can . fundamentally incompatible aim protecting users’ freedom change software. systematic pattern abuse occurs area products individuals use, precisely unacceptable. Therefore, designed version GPL prohibit practice products. problems arise substantially domains, stand ready extend provision domains future versions GPL, needed protect freedom users. Finally, every program threatened constantly software patents. States allow patents restrict development use software general-purpose computers, , wish avoid special danger patents applied free program make effectively proprietary. prevent , GPL assures patents used render program non-free. precise terms conditions copying, distribution modification follow.","code":""},{"path":[]},{"path":"/LICENSE.html","id":"0-definitions","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"0. Definitions","title":"GNU General Public License","text":"“License” refers version 3 GNU General Public License. “Copyright” also means copyright-like laws apply kinds works, semiconductor masks. “Program” refers copyrightable work licensed License. licensee addressed “”. “Licensees” “recipients” may individuals organizations. “modify” work means copy adapt part work fashion requiring copyright permission, making exact copy. resulting work called “modified version” earlier work work “based ” earlier work. “covered work” means either unmodified Program work based Program. “propagate” work means anything , without permission, make directly secondarily liable infringement applicable copyright law, except executing computer modifying private copy. Propagation includes copying, distribution (without modification), making available public, countries activities well. “convey” work means kind propagation enables parties make receive copies. Mere interaction user computer network, transfer copy, conveying. interactive user interface displays “Appropriate Legal Notices” extent includes convenient prominently visible feature (1) displays appropriate copyright notice, (2) tells user warranty work (except extent warranties provided), licensees may convey work License, view copy License. interface presents list user commands options, menu, prominent item list meets criterion.","code":""},{"path":"/LICENSE.html","id":"1-source-code","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"1. Source Code","title":"GNU General Public License","text":"“source code” work means preferred form work making modifications . “Object code” means non-source form work. “Standard Interface” means interface either official standard defined recognized standards body, , case interfaces specified particular programming language, one widely used among developers working language. “System Libraries” executable work include anything, work whole, () included normal form packaging Major Component, part Major Component, (b) serves enable use work Major Component, implement Standard Interface implementation available public source code form. “Major Component”, context, means major essential component (kernel, window system, ) specific operating system () executable work runs, compiler used produce work, object code interpreter used run . “Corresponding Source” work object code form means source code needed generate, install, (executable work) run object code modify work, including scripts control activities. However, include work’s System Libraries, general-purpose tools generally available free programs used unmodified performing activities part work. example, Corresponding Source includes interface definition files associated source files work, source code shared libraries dynamically linked subprograms work specifically designed require, intimate data communication control flow subprograms parts work. Corresponding Source need include anything users can regenerate automatically parts Corresponding Source. Corresponding Source work source code form work.","code":""},{"path":"/LICENSE.html","id":"2-basic-permissions","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"2. Basic Permissions","title":"GNU General Public License","text":"rights granted License granted term copyright Program, irrevocable provided stated conditions met. License explicitly affirms unlimited permission run unmodified Program. output running covered work covered License output, given content, constitutes covered work. License acknowledges rights fair use equivalent, provided copyright law. may make, run propagate covered works convey, without conditions long license otherwise remains force. may convey covered works others sole purpose make modifications exclusively , provide facilities running works, provided comply terms License conveying material control copyright. thus making running covered works must exclusively behalf, direction control, terms prohibit making copies copyrighted material outside relationship . Conveying circumstances permitted solely conditions stated . Sublicensing allowed; section 10 makes unnecessary.","code":""},{"path":"/LICENSE.html","id":"3-protecting-users-legal-rights-from-anti-circumvention-law","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"3. Protecting Users’ Legal Rights From Anti-Circumvention Law","title":"GNU General Public License","text":"covered work shall deemed part effective technological measure applicable law fulfilling obligations article 11 WIPO copyright treaty adopted 20 December 1996, similar laws prohibiting restricting circumvention measures. convey covered work, waive legal power forbid circumvention technological measures extent circumvention effected exercising rights License respect covered work, disclaim intention limit operation modification work means enforcing, work’s users, third parties’ legal rights forbid circumvention technological measures.","code":""},{"path":"/LICENSE.html","id":"4-conveying-verbatim-copies","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"4. Conveying Verbatim Copies","title":"GNU General Public License","text":"may convey verbatim copies Program’s source code receive , medium, provided conspicuously appropriately publish copy appropriate copyright notice; keep intact notices stating License non-permissive terms added accord section 7 apply code; keep intact notices absence warranty; give recipients copy License along Program. may charge price price copy convey, may offer support warranty protection fee.","code":""},{"path":"/LICENSE.html","id":"5-conveying-modified-source-versions","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"5. Conveying Modified Source Versions","title":"GNU General Public License","text":"may convey work based Program, modifications produce Program, form source code terms section 4, provided also meet conditions: ) work must carry prominent notices stating modified , giving relevant date. b) work must carry prominent notices stating released License conditions added section 7. requirement modifies requirement section 4 “keep intact notices”. c) must license entire work, whole, License anyone comes possession copy. License therefore apply, along applicable section 7 additional terms, whole work, parts, regardless packaged. License gives permission license work way, invalidate permission separately received . d) work interactive user interfaces, must display Appropriate Legal Notices; however, Program interactive interfaces display Appropriate Legal Notices, work need make . compilation covered work separate independent works, nature extensions covered work, combined form larger program, volume storage distribution medium, called “aggregate” compilation resulting copyright used limit access legal rights compilation’s users beyond individual works permit. Inclusion covered work aggregate cause License apply parts aggregate.","code":""},{"path":"/LICENSE.html","id":"6-conveying-non-source-forms","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"6. Conveying Non-Source Forms","title":"GNU General Public License","text":"may convey covered work object code form terms sections 4 5, provided also convey machine-readable Corresponding Source terms License, one ways: ) Convey object code , embodied , physical product (including physical distribution medium), accompanied Corresponding Source fixed durable physical medium customarily used software interchange. b) Convey object code , embodied , physical product (including physical distribution medium), accompanied written offer, valid least three years valid long offer spare parts customer support product model, give anyone possesses object code either (1) copy Corresponding Source software product covered License, durable physical medium customarily used software interchange, price reasonable cost physically performing conveying source, (2) access copy Corresponding Source network server charge. c) Convey individual copies object code copy written offer provide Corresponding Source. alternative allowed occasionally noncommercially, received object code offer, accord subsection 6b. d) Convey object code offering access designated place (gratis charge), offer equivalent access Corresponding Source way place charge. need require recipients copy Corresponding Source along object code. place copy object code network server, Corresponding Source may different server (operated third party) supports equivalent copying facilities, provided maintain clear directions next object code saying find Corresponding Source. Regardless server hosts Corresponding Source, remain obligated ensure available long needed satisfy requirements. e) Convey object code using peer--peer transmission, provided inform peers object code Corresponding Source work offered general public charge subsection 6d. separable portion object code, whose source code excluded Corresponding Source System Library, need included conveying object code work. “User Product” either (1) “consumer product”, means tangible personal property normally used personal, family, household purposes, (2) anything designed sold incorporation dwelling. determining whether product consumer product, doubtful cases shall resolved favor coverage. particular product received particular user, “normally used” refers typical common use class product, regardless status particular user way particular user actually uses, expects expected use, product. product consumer product regardless whether product substantial commercial, industrial non-consumer uses, unless uses represent significant mode use product. “Installation Information” User Product means methods, procedures, authorization keys, information required install execute modified versions covered work User Product modified version Corresponding Source. information must suffice ensure continued functioning modified object code case prevented interfered solely modification made. convey object code work section , , specifically use , User Product, conveying occurs part transaction right possession use User Product transferred recipient perpetuity fixed term (regardless transaction characterized), Corresponding Source conveyed section must accompanied Installation Information. requirement apply neither third party retains ability install modified object code User Product (example, work installed ROM). requirement provide Installation Information include requirement continue provide support service, warranty, updates work modified installed recipient, User Product modified installed. Access network may denied modification materially adversely affects operation network violates rules protocols communication across network. Corresponding Source conveyed, Installation Information provided, accord section must format publicly documented (implementation available public source code form), must require special password key unpacking, reading copying.","code":""},{"path":"/LICENSE.html","id":"7-additional-terms","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"7. Additional Terms","title":"GNU General Public License","text":"“Additional permissions” terms supplement terms License making exceptions one conditions. Additional permissions applicable entire Program shall treated though included License, extent valid applicable law. additional permissions apply part Program, part may used separately permissions, entire Program remains governed License without regard additional permissions. convey copy covered work, may option remove additional permissions copy, part . (Additional permissions may written require removal certain cases modify work.) may place additional permissions material, added covered work, can give appropriate copyright permission. Notwithstanding provision License, material add covered work, may (authorized copyright holders material) supplement terms License terms: ) Disclaiming warranty limiting liability differently terms sections 15 16 License; b) Requiring preservation specified reasonable legal notices author attributions material Appropriate Legal Notices displayed works containing ; c) Prohibiting misrepresentation origin material, requiring modified versions material marked reasonable ways different original version; d) Limiting use publicity purposes names licensors authors material; e) Declining grant rights trademark law use trade names, trademarks, service marks; f) Requiring indemnification licensors authors material anyone conveys material (modified versions ) contractual assumptions liability recipient, liability contractual assumptions directly impose licensors authors. non-permissive additional terms considered “restrictions” within meaning section 10. Program received , part , contains notice stating governed License along term restriction, may remove term. license document contains restriction permits relicensing conveying License, may add covered work material governed terms license document, provided restriction survive relicensing conveying. add terms covered work accord section, must place, relevant source files, statement additional terms apply files, notice indicating find applicable terms. Additional terms, permissive non-permissive, may stated form separately written license, stated exceptions; requirements apply either way.","code":""},{"path":"/LICENSE.html","id":"8-termination","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"8. Termination","title":"GNU General Public License","text":"may propagate modify covered work except expressly provided License. attempt otherwise propagate modify void, automatically terminate rights License (including patent licenses granted third paragraph section 11). However, cease violation License, license particular copyright holder reinstated () provisionally, unless copyright holder explicitly finally terminates license, (b) permanently, copyright holder fails notify violation reasonable means prior 60 days cessation. Moreover, license particular copyright holder reinstated permanently copyright holder notifies violation reasonable means, first time received notice violation License (work) copyright holder, cure violation prior 30 days receipt notice. Termination rights section terminate licenses parties received copies rights License. rights terminated permanently reinstated, qualify receive new licenses material section 10.","code":""},{"path":"/LICENSE.html","id":"9-acceptance-not-required-for-having-copies","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"9. Acceptance Not Required for Having Copies","title":"GNU General Public License","text":"required accept License order receive run copy Program. Ancillary propagation covered work occurring solely consequence using peer--peer transmission receive copy likewise require acceptance. However, nothing License grants permission propagate modify covered work. actions infringe copyright accept License. Therefore, modifying propagating covered work, indicate acceptance License .","code":""},{"path":"/LICENSE.html","id":"10-automatic-licensing-of-downstream-recipients","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"10. Automatic Licensing of Downstream Recipients","title":"GNU General Public License","text":"time convey covered work, recipient automatically receives license original licensors, run, modify propagate work, subject License. responsible enforcing compliance third parties License. “entity transaction” transaction transferring control organization, substantially assets one, subdividing organization, merging organizations. propagation covered work results entity transaction, party transaction receives copy work also receives whatever licenses work party’s predecessor interest give previous paragraph, plus right possession Corresponding Source work predecessor interest, predecessor can get reasonable efforts. may impose restrictions exercise rights granted affirmed License. example, may impose license fee, royalty, charge exercise rights granted License, may initiate litigation (including cross-claim counterclaim lawsuit) alleging patent claim infringed making, using, selling, offering sale, importing Program portion .","code":""},{"path":"/LICENSE.html","id":"11-patents","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"11. Patents","title":"GNU General Public License","text":"“contributor” copyright holder authorizes use License Program work Program based. work thus licensed called contributor’s “contributor version”. contributor’s “essential patent claims” patent claims owned controlled contributor, whether already acquired hereafter acquired, infringed manner, permitted License, making, using, selling contributor version, include claims infringed consequence modification contributor version. purposes definition, “control” includes right grant patent sublicenses manner consistent requirements License. contributor grants non-exclusive, worldwide, royalty-free patent license contributor’s essential patent claims, make, use, sell, offer sale, import otherwise run, modify propagate contents contributor version. following three paragraphs, “patent license” express agreement commitment, however denominated, enforce patent (express permission practice patent covenant sue patent infringement). “grant” patent license party means make agreement commitment enforce patent party. convey covered work, knowingly relying patent license, Corresponding Source work available anyone copy, free charge terms License, publicly available network server readily accessible means, must either (1) cause Corresponding Source available, (2) arrange deprive benefit patent license particular work, (3) arrange, manner consistent requirements License, extend patent license downstream recipients. “Knowingly relying” means actual knowledge , patent license, conveying covered work country, recipient’s use covered work country, infringe one identifiable patents country reason believe valid. , pursuant connection single transaction arrangement, convey, propagate procuring conveyance , covered work, grant patent license parties receiving covered work authorizing use, propagate, modify convey specific copy covered work, patent license grant automatically extended recipients covered work works based . patent license “discriminatory” include within scope coverage, prohibits exercise , conditioned non-exercise one rights specifically granted License. may convey covered work party arrangement third party business distributing software, make payment third party based extent activity conveying work, third party grants, parties receive covered work , discriminatory patent license () connection copies covered work conveyed (copies made copies), (b) primarily connection specific products compilations contain covered work, unless entered arrangement, patent license granted, prior 28 March 2007. Nothing License shall construed excluding limiting implied license defenses infringement may otherwise available applicable patent law.","code":""},{"path":"/LICENSE.html","id":"12-no-surrender-of-others-freedom","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"12. No Surrender of Others’ Freedom","title":"GNU General Public License","text":"conditions imposed (whether court order, agreement otherwise) contradict conditions License, excuse conditions License. convey covered work satisfy simultaneously obligations License pertinent obligations, consequence may convey . example, agree terms obligate collect royalty conveying convey Program, way satisfy terms License refrain entirely conveying Program.","code":""},{"path":"/LICENSE.html","id":"13-use-with-the-gnu-affero-general-public-license","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"13. Use with the GNU Affero General Public License","title":"GNU General Public License","text":"Notwithstanding provision License, permission link combine covered work work licensed version 3 GNU Affero General Public License single combined work, convey resulting work. terms License continue apply part covered work, special requirements GNU Affero General Public License, section 13, concerning interaction network apply combination .","code":""},{"path":"/LICENSE.html","id":"14-revised-versions-of-this-license","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"14. Revised Versions of this License","title":"GNU General Public License","text":"Free Software Foundation may publish revised /new versions GNU General Public License time time. new versions similar spirit present version, may differ detail address new problems concerns. version given distinguishing version number. Program specifies certain numbered version GNU General Public License “later version” applies , option following terms conditions either numbered version later version published Free Software Foundation. Program specify version number GNU General Public License, may choose version ever published Free Software Foundation. Program specifies proxy can decide future versions GNU General Public License can used, proxy’s public statement acceptance version permanently authorizes choose version Program. Later license versions may give additional different permissions. However, additional obligations imposed author copyright holder result choosing follow later version.","code":""},{"path":"/LICENSE.html","id":"15-disclaimer-of-warranty","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"15. Disclaimer of Warranty","title":"GNU General Public License","text":"WARRANTY PROGRAM, EXTENT PERMITTED APPLICABLE LAW. EXCEPT OTHERWISE STATED WRITING COPYRIGHT HOLDERS /PARTIES PROVIDE PROGRAM “” WITHOUT WARRANTY KIND, EITHER EXPRESSED IMPLIED, INCLUDING, LIMITED , IMPLIED WARRANTIES MERCHANTABILITY FITNESS PARTICULAR PURPOSE. ENTIRE RISK QUALITY PERFORMANCE PROGRAM . PROGRAM PROVE DEFECTIVE, ASSUME COST NECESSARY SERVICING, REPAIR CORRECTION.","code":""},{"path":"/LICENSE.html","id":"16-limitation-of-liability","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"16. Limitation of Liability","title":"GNU General Public License","text":"EVENT UNLESS REQUIRED APPLICABLE LAW AGREED WRITING COPYRIGHT HOLDER, PARTY MODIFIES /CONVEYS PROGRAM PERMITTED , LIABLE DAMAGES, INCLUDING GENERAL, SPECIAL, INCIDENTAL CONSEQUENTIAL DAMAGES ARISING USE INABILITY USE PROGRAM (INCLUDING LIMITED LOSS DATA DATA RENDERED INACCURATE LOSSES SUSTAINED THIRD PARTIES FAILURE PROGRAM OPERATE PROGRAMS), EVEN HOLDER PARTY ADVISED POSSIBILITY DAMAGES.","code":""},{"path":"/LICENSE.html","id":"17-interpretation-of-sections-15-and-16","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"17. Interpretation of Sections 15 and 16","title":"GNU General Public License","text":"disclaimer warranty limitation liability provided given local legal effect according terms, reviewing courts shall apply local law closely approximates absolute waiver civil liability connection Program, unless warranty assumption liability accompanies copy Program return fee. END TERMS CONDITIONS","code":""},{"path":"/LICENSE.html","id":"how-to-apply-these-terms-to-your-new-programs","dir":"","previous_headings":"","what":"How to Apply These Terms to Your New Programs","title":"GNU General Public License","text":"develop new program, want greatest possible use public, best way achieve make free software everyone can redistribute change terms. , attach following notices program. safest attach start source file effectively state exclusion warranty; file least “copyright” line pointer full notice found. Also add information contact electronic paper mail. program terminal interaction, make output short notice like starts interactive mode: hypothetical commands show w show c show appropriate parts General Public License. course, program’s commands might different; GUI interface, use “box”. also get employer (work programmer) school, , sign “copyright disclaimer” program, necessary. information , apply follow GNU GPL, see <http://www.gnu.org/licenses/>. GNU General Public License permit incorporating program proprietary programs. program subroutine library, may consider useful permit linking proprietary applications library. want , use GNU Lesser General Public License instead License. first, please read <http://www.gnu.org/philosophy/--lgpl.html>.","code":"<one line to give the program's name and a brief idea of what it does.> Copyright (C) <year>  <name of author>  This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.  This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.  You should have received a copy of the GNU General Public License along with this program.  If not, see <http://www.gnu.org/licenses/>. <program>  Copyright (C) <year>  <name of author> This program comes with ABSOLUTELY NO WARRANTY; for details type 'show w'. This is free software, and you are welcome to redistribute it under certain conditions; type 'show c' for details."},{"path":"/reference/calculate_allocation.html","id":null,"dir":"Reference","previous_headings":"","what":"Determine required samples in strata — calculate_allocation","title":"Determine required samples in strata — calculate_allocation","text":"Determine required samples strata","code":""},{"path":"/reference/calculate_allocation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Determine required samples in strata — calculate_allocation","text":"","code":"calculate_allocation(   sraster,   nSamp,   allocation = \"prop\",   mraster = NULL,   existing = NULL,   force = FALSE )"},{"path":"/reference/calculate_allocation.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Determine required samples in strata — calculate_allocation","text":"sraster spatRaster. Stratification raster used sampling. nSamp Numeric. Number desired samples. allocation Character. Allocation algorithm used. Either prop (default) proportional allocation optim optimal allocation (equal sampling cost) equal equal number samples (defined nSamp)  strata. mraster spatRaster. ALS metric raster. Required allocation = optim. existing sf data.frame.  Existing plot network. force Logical. Default = FALSE - force nSamp exactly user defined value cases nSamp sraster strata count equally divisible. effect existing provided.","code":""},{"path":"/reference/calculate_allocation.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Determine required samples in strata — calculate_allocation","text":"data.frame : strata - Strata ID. total - Total samples allocated (positive) removed (negative). need - Total required samples per strata.","code":""},{"path":"/reference/calculate_allocation.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Determine required samples in strata — calculate_allocation","text":"Determine many samples allocate within strata","code":""},{"path":"/reference/calculate_allocation.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Determine required samples in strata — calculate_allocation","text":"Gregoire, T.G., & Valentine, H.T. (2007). Sampling Strategies Natural Resources Environment (1st ed.).  Chapman Hall/CRC. https://doi.org/10.1201/9780203498880","code":""},{"path":[]},{"path":"/reference/calculate_allocation.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Determine required samples in strata — calculate_allocation","text":"Tristan R.H. Goodbody","code":""},{"path":"/reference/calculate_allocation.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Determine required samples in strata — calculate_allocation","text":"","code":"#--- Load strata raster and existing samples---# r <- system.file(\"extdata\", \"kmeans.tif\", package = \"sgsR\") sr <- terra::rast(r)  e <- system.file(\"extdata\", \"existing.shp\", package = \"sgsR\") e <- sf::st_read(e) #> Reading layer `existing' from data source  #>   `C:\\Users\\tgood.stu\\AppData\\Local\\Temp\\RtmpCYYtR3\\temp_libpath29b8306a58fc\\sgsR\\extdata\\existing.shp'  #>   using driver `ESRI Shapefile' #> Simple feature collection with 100 features and 1 field #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: 431110 ymin: 5337750 xmax: 438550 ymax: 5343230 #> CRS:           unknown  #--- perform grid sampling ---# calculate_allocation(   sraster = sr,   nSamp = 200 ) #> Implementing porportional allocation of samples #> nSamp of 200 is not perfectly divisible based on strata distribution. nSamp of 199 will be returned. Use \"force = TRUE\" to brute force to 200. #>    strata total #> 1       1    13 #> 2       2    29 #> 3       3    14 #> 4       4    21 #> 5       5    25 #> 6       6    24 #> 7       7    24 #> 8       8    16 #> 9       9    23 #> 10     10    10  calculate_allocation(   sraster = sr,   nSamp = 200,   force = TRUE ) #> Implementing porportional allocation of samples #> Forcing 200 total samples. #>    strata total #> 1       1    13 #> 2       2    29 #> 3       3    14 #> 4       4    21 #> 5       5    25 #> 6       6    24 #> 7       7    24 #> 8       8    16 #> 9       9    23 #> 10     10    11  #--- extract strata from existing samples ---# e.sr <- extract_strata(   sraster = sr,   existing = e )  calculate_allocation(   sraster = sr,   nSamp = 200,   existing = e.sr ) #> Implementing porportional allocation of samples #> nSamp of 200 is not perfectly divisible based on strata distribution. nSamp of 199 will be returned. Use \"force = TRUE\" to brute force to 200. #>    strata total need #> 1       1    11   13 #> 2       2    15   29 #> 3       3     2   14 #> 4       4    10   21 #> 5       5    10   25 #> 6       6    10   24 #> 7       7    12   24 #> 8       8     3   16 #> 9       9    18   23 #> 10     10     8   10  #--- Load mraster for optimal allocation ---# mr <- system.file(\"extdata\", \"wall_metrics.tif\", package = \"sgsR\") mr <- terra::rast(mr)  calculate_allocation(   sraster = sr,   nSamp = 200,   existing = e.sr,   allocation = \"optim\",   mraster = mr$zmax,   force = TRUE ) #> Implementing optimal allocation of samples based on variability of 'zmax' #>    strata total need #> 1       1    16   18 #> 2       2    15   29 #> 3       3     6   18 #> 4       4     7   18 #> 5       5     6   21 #> 6       6     9   23 #> 7       7    12   24 #> 8       8     6   19 #> 9       9     9   14 #> 10     10    14   16"},{"path":"/reference/calculate_coobs.html","id":null,"dir":"Reference","previous_headings":"","what":"coobs algorithm sampling — calculate_coobs","title":"coobs algorithm sampling — calculate_coobs","text":"Perform COunt OBServations (coobs) algorithm using existing site data raster metrics. algorithm aids user determining additional samples located comparing existing samples pixel associated covariates. output coobs raster used constrain clhs sampling areas underreprented.","code":""},{"path":"/reference/calculate_coobs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"coobs algorithm sampling — calculate_coobs","text":"","code":"calculate_coobs(   mraster,   existing,   cores = 1,   threshold = 0.95,   plot = FALSE,   details = FALSE,   filename = NULL,   overwrite = FALSE )"},{"path":"/reference/calculate_coobs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"coobs algorithm sampling — calculate_coobs","text":"mraster spatRaster. ALS metrics raster. Requires least 2 layers calculate covariance matrix existing sf. Samples resulting sample_* functions. cores Numeric. Number CPU cores use parallel processing. default = 1 threshold Numeric. Proxy maximum pixel quantile avoid outliers. default = 0.95 plot Logical. Plots output strata raster visualized strata boundary dividers. details Logical. FALSE (default) output  stratification raster. TRUE return list $details additional stratification information  $raster output stratification spatRaster.  @param ... Additional arguments passed kmeans function. filename Character. Path write stratified raster disc. overwrite Logical. Specify whether filename overwritten disc.","code":""},{"path":"/reference/calculate_coobs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"coobs algorithm sampling — calculate_coobs","text":"output raster coobs classified coobs layers.","code":""},{"path":"/reference/calculate_coobs.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"coobs algorithm sampling — calculate_coobs","text":"Special thanks Dr. Brendan Malone original implementation algorithm.","code":""},{"path":"/reference/calculate_coobs.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"coobs algorithm sampling — calculate_coobs","text":"Malone BP, Minansy B, Brungard C. 2019. methods improve utility conditioned Latin hypercube sampling. PeerJ 7:e6451 DOI 10.7717/peerj.6451","code":""},{"path":[]},{"path":"/reference/calculate_coobs.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"coobs algorithm sampling — calculate_coobs","text":"Tristan R.H. Goodbody","code":""},{"path":"/reference/calculate_coobs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"coobs algorithm sampling — calculate_coobs","text":"","code":"if (FALSE) { #--- Load raster and existing plots---# r <- system.file(\"extdata\", \"wall_metrics.tif\", package = \"sgsR\") mr <- terra::rast(r)  e <- system.file(\"extdata\", \"existing.shp\", package = \"sgsR\") e <- sf::st_read(e)  calculate_coobs(   mraster = mr,   existing = e,   cores = 4,   details = TRUE,   filename = tempfile(fileext = \".tif\") ) }"},{"path":"/reference/calculate_distance.html","id":null,"dir":"Reference","previous_headings":"","what":"Distance to access layer — calculate_distance","title":"Distance to access layer — calculate_distance","text":"Per pixel distance nearest access vector. Intended used `cost` constraint within sample_clhs function","code":""},{"path":"/reference/calculate_distance.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Distance to access layer — calculate_distance","text":"","code":"calculate_distance(   raster,   access,   plot = FALSE,   filename = NULL,   overwrite = FALSE )"},{"path":"/reference/calculate_distance.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Distance to access layer — calculate_distance","text":"raster spatRaster. Raster used calculate pixel level distance access layer. access sf. Road access network - must lines. plot Logical. Plots output strata raster samples. filename Character. Path write output samples. overwrite Logical. Choice overwrite existing filename exists.","code":""},{"path":"/reference/calculate_distance.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Distance to access layer — calculate_distance","text":"Input raster dist2access layer appended.","code":""},{"path":[]},{"path":"/reference/calculate_distance.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Distance to access layer — calculate_distance","text":"Tristan R.H. Goodbody","code":""},{"path":"/reference/calculate_distance.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Distance to access layer — calculate_distance","text":"","code":"#--- Load raster and access files ---# r <- system.file(\"extdata\", \"kmeans.tif\", package = \"sgsR\") sr <- terra::rast(r)  a <- system.file(\"extdata\", \"roads.shp\", package = \"sgsR\") ac <- sf::st_read(a) #> Reading layer `roads' from data source  #>   `C:\\Users\\tgood.stu\\AppData\\Local\\Temp\\RtmpCYYtR3\\temp_libpath29b8306a58fc\\sgsR\\extdata\\roads.shp'  #>   using driver `ESRI Shapefile' #> Simple feature collection with 167 features and 2 fields #> Geometry type: MULTILINESTRING #> Dimension:     XY #> Bounding box:  xmin: 431100 ymin: 5337700 xmax: 438560 ymax: 5343240 #> Projected CRS: UTM_Zone_17_Northern_Hemisphere  calculate_distance(   raster = sr,   access = ac,   plot = TRUE ) #> calculating per pixel distance to provided access layer #> class       : SpatRaster  #> dimensions  : 277, 373, 2  (nrow, ncol, nlyr) #> resolution  : 20, 20  (x, y) #> extent      : 431100, 438560, 5337700, 5343240  (xmin, xmax, ymin, ymax) #> coord. ref. : UTM Zone 17, Northern Hemisphere  #> sources     : kmeans.tif   #>               memory   #> names       :      strata, dist2access  #> min values  : 1.000000000, 0.006621213  #> max values  :       10.00,     1061.66   calculate_distance(   raster = sr,   access = ac,   plot = TRUE,   filename = tempfile(fileext = \".tif\") ) #> calculating per pixel distance to provided access layer  #> class       : SpatRaster  #> dimensions  : 277, 373, 2  (nrow, ncol, nlyr) #> resolution  : 20, 20  (x, y) #> extent      : 431100, 438560, 5337700, 5343240  (xmin, xmax, ymin, ymax) #> coord. ref. : UTM Zone 17, Northern Hemisphere  #> sources     : kmeans.tif   #>               memory   #> names       :      strata, dist2access  #> min values  : 1.000000000, 0.006621213  #> max values  :       10.00,     1061.66"},{"path":"/reference/calculate_lhsOpt.html","id":null,"dir":"Reference","previous_headings":"","what":"Analyze optimal Latin hypercube sample number — calculate_lhsOpt","title":"Analyze optimal Latin hypercube sample number — calculate_lhsOpt","text":"Population level analysis metric raster data determine optimal Latin Hypercube sample size","code":""},{"path":"/reference/calculate_lhsOpt.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Analyze optimal Latin hypercube sample number — calculate_lhsOpt","text":"","code":"calculate_lhsOpt(   popLHS,   PCA = TRUE,   quant = TRUE,   KLdiv = TRUE,   minSamp = 10,   maxSamp = 100,   step = 10,   rep = 10,   iter = 10000 )"},{"path":"/reference/calculate_lhsOpt.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Analyze optimal Latin hypercube sample number — calculate_lhsOpt","text":"popLHS List. Output calculate_lhsPop function. PCA Logical. Calculates principal component loadings population PCA similarity factor testing. default = TRUE. quant Logical. Calculates quantile matrix population quantile comparison testing. default = TRUE. KLdiv Logical. Calculates covariate matrix population Kullback–Leibler divergence testing. default = TRUE. Relies quant = TRUE calculate. minSamp Numeric. Minimum sample size test. default = 10. maxSamp Numeric. Maximum sample size test. default = 100. step Numeric. Sample step size iteration. default = 10. rep Numeric. Internal repetitions sample size. default = 10. iter Numeric. Internal clhs - positive number, giving number iterations Metropolis-Hastings annealing process. Defaults 10000.","code":""},{"path":"/reference/calculate_lhsOpt.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Analyze optimal Latin hypercube sample number — calculate_lhsOpt","text":"data.frame summary statistics.","code":""},{"path":"/reference/calculate_lhsOpt.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Analyze optimal Latin hypercube sample number — calculate_lhsOpt","text":"Special thanks Dr. Brendan Malone original implementation algorithm.","code":""},{"path":"/reference/calculate_lhsOpt.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Analyze optimal Latin hypercube sample number — calculate_lhsOpt","text":"Malone BP, Minansy B, Brungard C. 2019. methods improve utility conditioned Latin hypercube sampling. PeerJ 7:e6451 DOI 10.7717/peerj.6451","code":""},{"path":"/reference/calculate_lhsOpt.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Analyze optimal Latin hypercube sample number — calculate_lhsOpt","text":"Tristan R.H. Goodbody","code":""},{"path":"/reference/calculate_lhsOpt.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Analyze optimal Latin hypercube sample number — calculate_lhsOpt","text":"","code":"if (FALSE) { #--- Load raster and access files ---# r <- system.file(\"extdata\", \"wall_metrics.tif\", package = \"sgsR\") mr <- terra::rast(r)  #--- calculate lhsPop details ---# poplhs <- calculate_lhsPop(mraster = mr)  calculate_lhsOpt(popLHS = poplhs)  calculate_lhsOpt(   popLHS = poplhs,   PCA = FALSE,   iter = 200 ) }"},{"path":"/reference/calculate_lhsPop.html","id":null,"dir":"Reference","previous_headings":"","what":"Analyze covariates for lhs — calculate_lhsPop","title":"Analyze covariates for lhs — calculate_lhsPop","text":"Population level analysis metric raster data Calculates population level statistics including principal components, quantile matrix, Kullback-leibler  divergence neccesary calculate_lhsOpt.","code":""},{"path":"/reference/calculate_lhsPop.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Analyze covariates for lhs — calculate_lhsPop","text":"","code":"calculate_lhsPop(mraster, PCA = TRUE, quant = TRUE, nQuant = 10, KLdiv = TRUE)"},{"path":"/reference/calculate_lhsPop.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Analyze covariates for lhs — calculate_lhsPop","text":"mraster spatRaster. ALS metrics raster. PCA Logical. Calculates principal component loadings population PCA similarity factor testing. default = TRUE. quant Logical. Calculates quantile matrix population quantile comparison testing. default = TRUE. nQuant Numeric. Number quantiles divide population quant. default = 10. KLdiv Logical. Calculates covariate matrix population Kullback–Leibler divergence testing. default = TRUE. Relies quant = TRUE calculate.","code":""},{"path":"/reference/calculate_lhsPop.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Analyze covariates for lhs — calculate_lhsPop","text":"List matrices used input calculate_lhsOpt.","code":""},{"path":"/reference/calculate_lhsPop.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Analyze covariates for lhs — calculate_lhsPop","text":"Special thanks Dr. Brendan Malone original implementation algorithm.","code":""},{"path":"/reference/calculate_lhsPop.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Analyze covariates for lhs — calculate_lhsPop","text":"Malone BP, Minansy B, Brungard C. 2019. methods improve utility conditioned Latin hypercube sampling. PeerJ 7:e6451 DOI 10.7717/peerj.6451","code":""},{"path":[]},{"path":"/reference/calculate_lhsPop.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Analyze covariates for lhs — calculate_lhsPop","text":"Tristan R.H. Goodbody","code":""},{"path":"/reference/calculate_lhsPop.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Analyze covariates for lhs — calculate_lhsPop","text":"","code":"if (FALSE) { #--- Load raster and access files ---# r <- system.file(\"extdata\", \"wall_metrics.tif\", package = \"sgsR\") mr <- terra::rast(r)  calculate_lhsPop(mraster = mr)  calculate_lhsPop(   mraster = mr,   nQuant = 10,   PCA = FALSE ) }"},{"path":"/reference/calculate_pcomp.html","id":null,"dir":"Reference","previous_headings":"","what":"Raster principal components — calculate_pcomp","title":"Raster principal components — calculate_pcomp","text":"Calculate rasterize principal components metric raster","code":""},{"path":"/reference/calculate_pcomp.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Raster principal components — calculate_pcomp","text":"","code":"calculate_pcomp(   mraster,   nComp,   center = TRUE,   scale = TRUE,   plot = FALSE,   details = FALSE,   filename = NULL,   overwrite = FALSE,   ... )"},{"path":"/reference/calculate_pcomp.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Raster principal components — calculate_pcomp","text":"mraster spatRaster. ALS metrics raster. nComp Numeric. Value indicating number principal components rasterized. prior analysis. center Logical. Value indicating whether variables shifted zero centered. scale Logical. Value indicating whether variables scaled unit variance plot Logical. Plots output strata raster samples. details Logical. FALSE (default) output  stratification raster. TRUE return list $details additional stratification information  $raster output stratification spatRaster.  @param ... Additional arguments passed kmeans function. filename Character. Path write output samples. overwrite Logical. Choice overwrite existing filename exists. ... Additional arguments passed prcomp.","code":""},{"path":"/reference/calculate_pcomp.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Raster principal components — calculate_pcomp","text":"Output raster specified number principal components layers.","code":""},{"path":[]},{"path":"/reference/calculate_pcomp.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Raster principal components — calculate_pcomp","text":"Tristan R.H. Goodbody","code":""},{"path":"/reference/calculate_pcomp.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Raster principal components — calculate_pcomp","text":"","code":"#--- Load raster ---# r <- system.file(\"extdata\", \"wall_metrics.tif\", package = \"sgsR\") mr <- terra::rast(r)  calculate_pcomp(   mraster = mr,   nComp = 5 ) #> class       : SpatRaster  #> dimensions  : 277, 373, 5  (nrow, ncol, nlyr) #> resolution  : 20, 20  (x, y) #> extent      : 431100, 438560, 5337700, 5343240  (xmin, xmax, ymin, ymax) #> coord. ref. : UTM Zone 17, Northern Hemisphere  #> sources     : memory   #>               memory   #>               memory   #>               ... and 2 more source(s) #> names       :        PC1,        PC2,        PC3,        PC4,        PC5  #> min values  :  -6.675657, -14.741405,  -1.735068,  -9.384677,  -1.272558  #> max values  :  13.828171,   4.197435,   4.022076,   1.821104,   2.243303   calculate_pcomp(   mraster = mr,   nComp = 3,   plot = TRUE,   details = TRUE )  #> $pca #> Standard deviations (1, .., p=9): #> [1] 2.66328897 1.09805898 0.66339469 0.41858538 0.22109594 0.14478794 #> [7] 0.09669328 0.07739106 0.02581106 #>  #> Rotation (n x k) = (9 x 9): #>                PC1         PC2         PC3         PC4         PC5 #> zmax     0.3718561  0.05890652  0.13655303  0.18644188 -0.02967021 #> zmean    0.2892076  0.11179079 -0.94037185  0.11669464 -0.01101177 #> zsd      0.2902484 -0.57132611  0.07358411 -0.03485495 -0.12710815 #> pzabove2 0.2762415  0.57389014  0.11046261 -0.48982874 -0.53278380 #> zq20     0.3222793  0.42913513  0.17765055  0.04688184  0.69772164 #> zq50     0.3621931  0.06711670  0.16260903  0.50497308 -0.03554264 #> zq70     0.3669446 -0.07622676  0.13483825  0.33474905 -0.33679147 #> zq90     0.3576125 -0.24286784  0.04467110 -0.28486752  0.00494469 #> zq95     0.3463317 -0.27351876 -0.03548477 -0.50997312  0.31217248 #>                   PC6          PC7         PC8          PC9 #> zmax     -0.022902433  0.058181544  0.12813760 -0.885232514 #> zmean     0.061423536  0.005559276 -0.04493042  0.001085691 #> zsd       0.373461072 -0.062831197 -0.65029797 -0.015746780 #> pzabove2  0.007219003  0.005909104 -0.23569527  0.052045306 #> zq20      0.371793616 -0.128585416 -0.12943905  0.141020587 #> zq50     -0.525190662  0.398814446 -0.24627692  0.293390931 #> zq70      0.136444231 -0.587797301  0.42249155  0.270652072 #> zq90      0.287643242  0.607152727  0.49439800  0.184814994 #> zq95     -0.583751620 -0.320739852  0.05279230  0.005601089 #>  #> $raster #> class       : SpatRaster  #> dimensions  : 277, 373, 3  (nrow, ncol, nlyr) #> resolution  : 20, 20  (x, y) #> extent      : 431100, 438560, 5337700, 5343240  (xmin, xmax, ymin, ymax) #> coord. ref. : UTM Zone 17, Northern Hemisphere  #> sources     : memory   #>               memory   #>               memory   #> names       :        PC1,        PC2,        PC3  #> min values  :  -6.675657, -14.741405,  -1.735068  #> max values  :  13.828171,   4.197435,   4.022076  #>"},{"path":"/reference/calculate_sampsize.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample size determination — calculate_sampsize","title":"Sample size determination — calculate_sampsize","text":"Determine samples size simple random sampling using relative standard error","code":""},{"path":"/reference/calculate_sampsize.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample size determination — calculate_sampsize","text":"","code":"calculate_sampsize(   mraster,   rse = NULL,   start = 0.01,   end = 0.05,   increment = 0.001,   plot = FALSE )"},{"path":"/reference/calculate_sampsize.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Sample size determination — calculate_sampsize","text":"mraster spatRaster. Metrics raster. values must numeric. rse Numeric. Desired relative standard error (coefficient variation mean) threshold determine sample size. start Numeric. First rse value begin rse sequence. default = 0.01. end Numeric. Final rse value end rse sequence. default = 0.05. increment Numeric. Value increment start & end. default = 0.001. plot Logical. TRUE output graphical representation estimated sample size vs. rse.","code":""},{"path":"/reference/calculate_sampsize.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Sample size determination — calculate_sampsize","text":"data.frame sample size rse raster variable.","code":""},{"path":"/reference/calculate_sampsize.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Sample size determination — calculate_sampsize","text":"$$rse = (100 * SE) / mean)$$ : SE - Standard error mean s - Standard deviation observations n - Number observations","code":""},{"path":"/reference/calculate_sampsize.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Sample size determination — calculate_sampsize","text":"Benedetti, R., Piersimoni, F., & Postiglione, P. (2015).  Sampling spatial units agricultural surveys. pp 202-203. Berlin: Springer.","code":""},{"path":[]},{"path":"/reference/calculate_sampsize.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Sample size determination — calculate_sampsize","text":"Tristan R.H. Goodbody","code":""},{"path":"/reference/calculate_sampsize.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Sample size determination — calculate_sampsize","text":"","code":"#--- Load raster ---# r <- system.file(\"extdata\", \"wall_metrics.tif\", package = \"sgsR\") mr <- terra::rast(r)  calculate_sampsize(mraster = mr,                    rse = 0.01,                    plot = TRUE) #> $nSamp #>   nSamp  rse      var #> 1  2030 0.01     zmax #> 2  1341 0.01    zmean #> 3  1862 0.01      zsd #> 4  4091 0.01 pzabove2 #> 5  3647 0.01     zq20 #> 6  2581 0.01     zq50 #> 7  2110 0.01     zq70 #> 8  1396 0.01     zq90 #> 9  1134 0.01     zq95 #>  #> $plot  #>                      calculate_sampsize(mraster = mr,                    plot = TRUE) #> $nSamp #>     nSamp   rse      var #> 1    2030 0.010     zmax #> 2    1684 0.011     zmax #> 3    1419 0.012     zmax #> 4    1212 0.013     zmax #> 5    1047 0.014     zmax #> 6     914 0.015     zmax #> 7     804 0.016     zmax #> 8     713 0.017     zmax #> 9     637 0.018     zmax #> 10    572 0.019     zmax #> 11    516 0.020     zmax #> 12    469 0.021     zmax #> 13    427 0.022     zmax #> 14    391 0.023     zmax #> 15    359 0.024     zmax #> 16    331 0.025     zmax #> 17    306 0.026     zmax #> 18    284 0.027     zmax #> 19    264 0.028     zmax #> 20    247 0.029     zmax #> 21    230 0.030     zmax #> 22    216 0.031     zmax #> 23    203 0.032     zmax #> 24    191 0.033     zmax #> 25    180 0.034     zmax #> 26    170 0.035     zmax #> 27    160 0.036     zmax #> 28    152 0.037     zmax #> 29    144 0.038     zmax #> 30    137 0.039     zmax #> 31    130 0.040     zmax #> 32    124 0.041     zmax #> 33    118 0.042     zmax #> 34    113 0.043     zmax #> 35    108 0.044     zmax #> 36    103 0.045     zmax #> 37     98 0.046     zmax #> 38     94 0.047     zmax #> 39     90 0.048     zmax #> 40     87 0.049     zmax #> 41     83 0.050     zmax #> 42   1341 0.010    zmean #> 43   1111 0.011    zmean #> 44    935 0.012    zmean #> 45    798 0.013    zmean #> 46    689 0.014    zmean #> 47    601 0.015    zmean #> 48    529 0.016    zmean #> 49    469 0.017    zmean #> 50    418 0.018    zmean #> 51    376 0.019    zmean #> 52    339 0.020    zmean #> 53    308 0.021    zmean #> 54    281 0.022    zmean #> 55    257 0.023    zmean #> 56    236 0.024    zmean #> 57    218 0.025    zmean #> 58    201 0.026    zmean #> 59    187 0.027    zmean #> 60    174 0.028    zmean #> 61    162 0.029    zmean #> 62    151 0.030    zmean #> 63    142 0.031    zmean #> 64    133 0.032    zmean #> 65    125 0.033    zmean #> 66    118 0.034    zmean #> 67    111 0.035    zmean #> 68    105 0.036    zmean #> 69    100 0.037    zmean #> 70     95 0.038    zmean #> 71     90 0.039    zmean #> 72     85 0.040    zmean #> 73     81 0.041    zmean #> 74     78 0.042    zmean #> 75     74 0.043    zmean #> 76     71 0.044    zmean #> 77     68 0.045    zmean #> 78     65 0.046    zmean #> 79     62 0.047    zmean #> 80     59 0.048    zmean #> 81     57 0.049    zmean #> 82     55 0.050    zmean #> 83   1862 0.010      zsd #> 84   1545 0.011      zsd #> 85   1302 0.012      zsd #> 86   1111 0.013      zsd #> 87    960 0.014      zsd #> 88    837 0.015      zsd #> 89    737 0.016      zsd #> 90    653 0.017      zsd #> 91    583 0.018      zsd #> 92    524 0.019      zsd #> 93    473 0.020      zsd #> 94    429 0.021      zsd #> 95    392 0.022      zsd #> 96    358 0.023      zsd #> 97    329 0.024      zsd #> 98    304 0.025      zsd #> 99    281 0.026      zsd #> 100   260 0.027      zsd #> 101   242 0.028      zsd #> 102   226 0.029      zsd #> 103   211 0.030      zsd #> 104   198 0.031      zsd #> 105   186 0.032      zsd #> 106   175 0.033      zsd #> 107   165 0.034      zsd #> 108   155 0.035      zsd #> 109   147 0.036      zsd #> 110   139 0.037      zsd #> 111   132 0.038      zsd #> 112   125 0.039      zsd #> 113   119 0.040      zsd #> 114   113 0.041      zsd #> 115   108 0.042      zsd #> 116   103 0.043      zsd #> 117    99 0.044      zsd #> 118    94 0.045      zsd #> 119    90 0.046      zsd #> 120    86 0.047      zsd #> 121    83 0.048      zsd #> 122    80 0.049      zsd #> 123    76 0.050      zsd #> 124  4091 0.010 pzabove2 #> 125  3408 0.011 pzabove2 #> 126  2881 0.012 pzabove2 #> 127  2466 0.013 pzabove2 #> 128  2134 0.014 pzabove2 #> 129  1865 0.015 pzabove2 #> 130  1643 0.016 pzabove2 #> 131  1459 0.017 pzabove2 #> 132  1303 0.018 pzabove2 #> 133  1172 0.019 pzabove2 #> 134  1059 0.020 pzabove2 #> 135   961 0.021 pzabove2 #> 136   877 0.022 pzabove2 #> 137   803 0.023 pzabove2 #> 138   738 0.024 pzabove2 #> 139   681 0.025 pzabove2 #> 140   630 0.026 pzabove2 #> 141   584 0.027 pzabove2 #> 142   543 0.028 pzabove2 #> 143   507 0.029 pzabove2 #> 144   474 0.030 pzabove2 #> 145   444 0.031 pzabove2 #> 146   417 0.032 pzabove2 #> 147   392 0.033 pzabove2 #> 148   369 0.034 pzabove2 #> 149   349 0.035 pzabove2 #> 150   330 0.036 pzabove2 #> 151   312 0.037 pzabove2 #> 152   296 0.038 pzabove2 #> 153   281 0.039 pzabove2 #> 154   267 0.040 pzabove2 #> 155   255 0.041 pzabove2 #> 156   243 0.042 pzabove2 #> 157   232 0.043 pzabove2 #> 158   221 0.044 pzabove2 #> 159   211 0.045 pzabove2 #> 160   202 0.046 pzabove2 #> 161   194 0.047 pzabove2 #> 162   186 0.048 pzabove2 #> 163   179 0.049 pzabove2 #> 164   171 0.050 pzabove2 #> 165  3647 0.010     zq20 #> 166  3035 0.011     zq20 #> 167  2564 0.012     zq20 #> 168  2194 0.013     zq20 #> 169  1898 0.014     zq20 #> 170  1658 0.015     zq20 #> 171  1460 0.016     zq20 #> 172  1296 0.017     zq20 #> 173  1158 0.018     zq20 #> 174  1041 0.019     zq20 #> 175   940 0.020     zq20 #> 176   854 0.021     zq20 #> 177   779 0.022     zq20 #> 178   713 0.023     zq20 #> 179   655 0.024     zq20 #> 180   604 0.025     zq20 #> 181   559 0.026     zq20 #> 182   519 0.027     zq20 #> 183   482 0.028     zq20 #> 184   450 0.029     zq20 #> 185   421 0.030     zq20 #> 186   394 0.031     zq20 #> 187   370 0.032     zq20 #> 188   348 0.033     zq20 #> 189   328 0.034     zq20 #> 190   310 0.035     zq20 #> 191   293 0.036     zq20 #> 192   277 0.037     zq20 #> 193   263 0.038     zq20 #> 194   250 0.039     zq20 #> 195   237 0.040     zq20 #> 196   226 0.041     zq20 #> 197   215 0.042     zq20 #> 198   205 0.043     zq20 #> 199   196 0.044     zq20 #> 200   188 0.045     zq20 #> 201   180 0.046     zq20 #> 202   172 0.047     zq20 #> 203   165 0.048     zq20 #> 204   158 0.049     zq20 #> 205   152 0.050     zq20 #> 206  2581 0.010     zq50 #> 207  2144 0.011     zq50 #> 208  1808 0.012     zq50 #> 209  1546 0.013     zq50 #> 210  1336 0.014     zq50 #> 211  1166 0.015     zq50 #> 212  1026 0.016     zq50 #> 213   910 0.017     zq50 #> 214   813 0.018     zq50 #> 215   730 0.019     zq50 #> 216   660 0.020     zq50 #> 217   599 0.021     zq50 #> 218   546 0.022     zq50 #> 219   500 0.023     zq50 #> 220   459 0.024     zq50 #> 221   424 0.025     zq50 #> 222   392 0.026     zq50 #> 223   363 0.027     zq50 #> 224   338 0.028     zq50 #> 225   315 0.029     zq50 #> 226   295 0.030     zq50 #> 227   276 0.031     zq50 #> 228   259 0.032     zq50 #> 229   244 0.033     zq50 #> 230   230 0.034     zq50 #> 231   217 0.035     zq50 #> 232   205 0.036     zq50 #> 233   194 0.037     zq50 #> 234   184 0.038     zq50 #> 235   175 0.039     zq50 #> 236   166 0.040     zq50 #> 237   158 0.041     zq50 #> 238   151 0.042     zq50 #> 239   144 0.043     zq50 #> 240   137 0.044     zq50 #> 241   131 0.045     zq50 #> 242   126 0.046     zq50 #> 243   121 0.047     zq50 #> 244   116 0.048     zq50 #> 245   111 0.049     zq50 #> 246   107 0.050     zq50 #> 247  2110 0.010     zq70 #> 248  1751 0.011     zq70 #> 249  1476 0.012     zq70 #> 250  1261 0.013     zq70 #> 251  1089 0.014     zq70 #> 252   950 0.015     zq70 #> 253   836 0.016     zq70 #> 254   742 0.017     zq70 #> 255   662 0.018     zq70 #> 256   595 0.019     zq70 #> 257   537 0.020     zq70 #> 258   488 0.021     zq70 #> 259   445 0.022     zq70 #> 260   407 0.023     zq70 #> 261   374 0.024     zq70 #> 262   345 0.025     zq70 #> 263   319 0.026     zq70 #> 264   296 0.027     zq70 #> 265   275 0.028     zq70 #> 266   257 0.029     zq70 #> 267   240 0.030     zq70 #> 268   225 0.031     zq70 #> 269   211 0.032     zq70 #> 270   198 0.033     zq70 #> 271   187 0.034     zq70 #> 272   176 0.035     zq70 #> 273   167 0.036     zq70 #> 274   158 0.037     zq70 #> 275   150 0.038     zq70 #> 276   142 0.039     zq70 #> 277   135 0.040     zq70 #> 278   129 0.041     zq70 #> 279   123 0.042     zq70 #> 280   117 0.043     zq70 #> 281   112 0.044     zq70 #> 282   107 0.045     zq70 #> 283   102 0.046     zq70 #> 284    98 0.047     zq70 #> 285    94 0.048     zq70 #> 286    90 0.049     zq70 #> 287    87 0.050     zq70 #> 288  1396 0.010     zq90 #> 289  1157 0.011     zq90 #> 290   974 0.012     zq90 #> 291   832 0.013     zq90 #> 292   718 0.014     zq90 #> 293   626 0.015     zq90 #> 294   551 0.016     zq90 #> 295   488 0.017     zq90 #> 296   436 0.018     zq90 #> 297   391 0.019     zq90 #> 298   353 0.020     zq90 #> 299   321 0.021     zq90 #> 300   292 0.022     zq90 #> 301   268 0.023     zq90 #> 302   246 0.024     zq90 #> 303   227 0.025     zq90 #> 304   210 0.026     zq90 #> 305   195 0.027     zq90 #> 306   181 0.028     zq90 #> 307   169 0.029     zq90 #> 308   158 0.030     zq90 #> 309   148 0.031     zq90 #> 310   139 0.032     zq90 #> 311   130 0.033     zq90 #> 312   123 0.034     zq90 #> 313   116 0.035     zq90 #> 314   110 0.036     zq90 #> 315   104 0.037     zq90 #> 316    99 0.038     zq90 #> 317    94 0.039     zq90 #> 318    89 0.040     zq90 #> 319    85 0.041     zq90 #> 320    81 0.042     zq90 #> 321    77 0.043     zq90 #> 322    74 0.044     zq90 #> 323    70 0.045     zq90 #> 324    67 0.046     zq90 #> 325    65 0.047     zq90 #> 326    62 0.048     zq90 #> 327    59 0.049     zq90 #> 328    57 0.050     zq90 #> 329  1134 0.010     zq95 #> 330   940 0.011     zq95 #> 331   791 0.012     zq95 #> 332   675 0.013     zq95 #> 333   583 0.014     zq95 #> 334   508 0.015     zq95 #> 335   447 0.016     zq95 #> 336   396 0.017     zq95 #> 337   354 0.018     zq95 #> 338   317 0.019     zq95 #> 339   287 0.020     zq95 #> 340   260 0.021     zq95 #> 341   237 0.022     zq95 #> 342   217 0.023     zq95 #> 343   199 0.024     zq95 #> 344   184 0.025     zq95 #> 345   170 0.026     zq95 #> 346   158 0.027     zq95 #> 347   147 0.028     zq95 #> 348   137 0.029     zq95 #> 349   128 0.030     zq95 #> 350   120 0.031     zq95 #> 351   112 0.032     zq95 #> 352   106 0.033     zq95 #> 353   100 0.034     zq95 #> 354    94 0.035     zq95 #> 355    89 0.036     zq95 #> 356    84 0.037     zq95 #> 357    80 0.038     zq95 #> 358    76 0.039     zq95 #> 359    72 0.040     zq95 #> 360    69 0.041     zq95 #> 361    66 0.042     zq95 #> 362    63 0.043     zq95 #> 363    60 0.044     zq95 #> 364    57 0.045     zq95 #> 365    55 0.046     zq95 #> 366    52 0.047     zq95 #> 367    50 0.048     zq95 #> 368    48 0.049     zq95 #> 369    46 0.050     zq95 #>  #> $plot  #>                      calculate_sampsize(mraster = mr,                    rse = 0.025,                    start = 0.01,                    end = 0.08,                    increment = 0.01,                    plot = TRUE) #> 'rse' not perfectly divisible by 'incremenent.  #> Selecting closest sample size (rse = 0.03) based on values. #> $nSamp #> # A tibble: 9 x 3 #> # Groups:   var [9] #>   nSamp   rse var      #>   <dbl> <dbl> <chr>    #> 1   230  0.03 zmax     #> 2   151  0.03 zmean    #> 3   211  0.03 zsd      #> 4   474  0.03 pzabove2 #> 5   421  0.03 zq20     #> 6   295  0.03 zq50     #> 7   240  0.03 zq70     #> 8   158  0.03 zq90     #> 9   128  0.03 zq95     #>  #> $plot  #>                      #--- higher variance leads to need for more samples ---#"},{"path":"/reference/extract.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract — extract","title":"Extract — extract","text":"Extract raster values samples Extract metric raster attributes existing","code":""},{"path":"/reference/extract.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract — extract","text":"","code":"extract_strata(   sraster,   existing,   data.frame = FALSE,   filename = NULL,   overwrite = FALSE )  extract_metrics(   mraster,   existing,   data.frame = FALSE,   filename = NULL,   overwrite = FALSE )"},{"path":"/reference/extract.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract — extract","text":"sraster spatRaster. Stratification raster. existing sf. Samples resulting sample_* functions. data.frame Logical. true outputs data.frame filename Character. Path write stratified raster disc. overwrite Logical. Specify whether filename overwritten disc. mraster Spatraster. Primary covariate raster stratify.","code":""},{"path":"/reference/extract.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract — extract","text":"sf data.frame object samples strata attributes sf data.frame object samples associated raster cell attributes","code":""},{"path":"/reference/masking.html","id":null,"dir":"Reference","previous_headings":"","what":"Masking — masking","title":"Masking — masking","text":"Create covariate sample matrices","code":""},{"path":"/reference/masking.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Masking — masking","text":"","code":"mask_access(raster, access, buff_inner, buff_outer)"},{"path":"/reference/masking.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Masking — masking","text":"raster SpatRaster. Raster masked. access sf. Road access network - must lines. buff_inner Numeric. Inner buffer boundary specifying distance access plots sampled. buff_outer Numeric. Outer buffer boundary specifying distance access plots can sampled.","code":""},{"path":"/reference/matrices.html","id":null,"dir":"Reference","previous_headings":"","what":"Matrices — matrices","title":"Matrices — matrices","text":"Create covariate sample matrices","code":""},{"path":"/reference/matrices.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Matrices — matrices","text":"","code":"mat_quant(vals, nQuant, nb)  mat_cov(vals, nQuant, nb, matQ)  mat_covNB(vals, nQuant, nb, matQ)"},{"path":"/reference/matrices.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Matrices — matrices","text":"vals Covariate / sample data nQuant Number quantiles nb Number bands matQ Quantile matrix","code":""},{"path":"/reference/pipe.html","id":null,"dir":"Reference","previous_headings":"","what":"Pipe operator — %>%","title":"Pipe operator — %>%","text":"See magrittr::%>% details.","code":""},{"path":"/reference/pipe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pipe operator — %>%","text":"","code":"lhs %>% rhs"},{"path":"/reference/pipe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pipe operator — %>%","text":"lhs value magrittr placeholder. rhs function call using magrittr semantics.","code":""},{"path":"/reference/pipe.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pipe operator — %>%","text":"result calling `rhs(lhs)`.","code":""},{"path":"/reference/plot.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot — plot","title":"Plot — plot","text":"Plot Class Plot","code":""},{"path":"/reference/plot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot — plot","text":"","code":"classPlot(dfc, coordsgrps, mraster, mraster2, samp)"},{"path":"/reference/plot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot — plot","text":"dfc data.frame. Values mraster mraster2 coordsgrps List. Cartesian coordinates strata mraster Spatraster. Primary covariate raster stratify. mraster2 Spatraster. Secondary covariate raster stratify. samp Numeric. Determines proportion cells plot","code":""},{"path":"/reference/sample_ahels.html","id":null,"dir":"Reference","previous_headings":"","what":"Adapted Hypercube Evaluation of a Legacy Sample (ahels) — sample_ahels","title":"Adapted Hypercube Evaluation of a Legacy Sample (ahels) — sample_ahels","text":"Perform adapted Hypercube Evaluation Legacy Sample (ahels) algorithm using existing site data raster metrics. New samples allocated based quantile ratios existing sample covariate dataset.","code":""},{"path":"/reference/sample_ahels.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Adapted Hypercube Evaluation of a Legacy Sample (ahels) — sample_ahels","text":"","code":"sample_ahels(   mraster,   existing,   nQuant = 10,   nSamp = NULL,   threshold = 0.9,   plot = FALSE,   filename = NULL,   overwrite = FALSE )"},{"path":"/reference/sample_ahels.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Adapted Hypercube Evaluation of a Legacy Sample (ahels) — sample_ahels","text":"mraster spatRaster. ALS metrics raster. existing sf. Samples resulting sample_* functions. nQuant Numeric. Number quantiles divide covariates samples . nSamp Numeric. Maximum number new samples allocate. provided, algorithm default allocating number samples provided. threshold Numeric. sample quantile ratio threshold establishing whether additional samples added. default = 0.9. Values close 1 can cause algorithm continually loop used sparingly. plot Logial. Plots existing (circles) new (crosses) samples first band mraster. filename Character. Path write stratified raster disc. overwrite Logical. Specify whether filename overwritten disc.","code":""},{"path":"/reference/sample_ahels.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Adapted Hypercube Evaluation of a Legacy Sample (ahels) — sample_ahels","text":"Returns sf point object existing samples supplemental samples added ahels algorithm.","code":""},{"path":"/reference/sample_ahels.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Adapted Hypercube Evaluation of a Legacy Sample (ahels) — sample_ahels","text":"Special thanks Dr. Brendan Malone original implementation algorithm.","code":""},{"path":"/reference/sample_ahels.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Adapted Hypercube Evaluation of a Legacy Sample (ahels) — sample_ahels","text":"Malone BP, Minansy B, Brungard C. 2019. methods improve utility conditioned Latin hypercube sampling. PeerJ 7:e6451 DOI 10.7717/peerj.6451","code":""},{"path":[]},{"path":"/reference/sample_ahels.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Adapted Hypercube Evaluation of a Legacy Sample (ahels) — sample_ahels","text":"Tristan R.H. Goodbody","code":""},{"path":"/reference/sample_ahels.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Adapted Hypercube Evaluation of a Legacy Sample (ahels) — sample_ahels","text":"","code":"#--- Load raster and existing plots---# r <- system.file(\"extdata\", \"wall_metrics.tif\", package = \"sgsR\") mr <- terra::rast(r)  e <- system.file(\"extdata\", \"existing.shp\", package = \"sgsR\") e <- sf::st_read(e) #> Reading layer `existing' from data source  #>   `C:\\Users\\tgood.stu\\AppData\\Local\\Temp\\RtmpCYYtR3\\temp_libpath29b8306a58fc\\sgsR\\extdata\\existing.shp'  #>   using driver `ESRI Shapefile' #> Simple feature collection with 100 features and 1 field #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: 431110 ymin: 5337750 xmax: 438550 ymax: 5343230 #> CRS:           unknown  sample_ahels(   mraster = mr[[1:3]],   existing = e,   plot = TRUE ) #> Creating covariance matrix. #>    |                                                                       |                                                              |   0%   |                                                                       |                                                              |   1%   |                                                                       |=                                                             |   1%   |                                                                       |=                                                             |   2%   |                                                                       |==                                                            |   2%   |                                                                       |==                                                            |   3%   |                                                                       |==                                                            |   4%   |                                                                       |===                                                           |   4%   |                                                                       |===                                                           |   5%   |                                                                       |===                                                           |   6%   |                                                                       |====                                                          |   6%   |                                                                       |====                                                          |   7%   |                                                                       |=====                                                         |   7%   |                                                                       |=====                                                         |   8%   |                                                                       |=====                                                         |   9%   |                                                                       |======                                                        |   9%   |                                                                       |======                                                        |  10%   |                                                                       |=======                                                       |  10%   |                                                                       |=======                                                       |  11%   |                                                                       |=======                                                       |  12%   |                                                                       |========                                                      |  12%   |                                                                       |========                                                      |  13%   |                                                                       |========                                                      |  14%   |                                                                       |=========                                                     |  14%   |                                                                       |=========                                                     |  15%   |                                                                       |==========                                                    |  15%   |                                                                       |==========                                                    |  16%   |                                                                       |==========                                                    |  17%   |                                                                       |===========                                                   |  17%   |                                                                       |===========                                                   |  18%   |                                                                       |===========                                                   |  19%   |                                                                       |============                                                  |  19%   |                                                                       |============                                                  |  20%   |                                                                       |=============                                                 |  20%   |                                                                       |=============                                                 |  21%   |                                                                       |=============                                                 |  22%   |                                                                       |==============                                                |  22%   |                                                                       |==============                                                |  23%   |                                                                       |===============                                               |  23%   |                                                                       |===============                                               |  24%   |                                                                       |===============                                               |  25%   |                                                                       |================                                              |  25%   |                                                                       |================                                              |  26%   |                                                                       |================                                              |  27%   |                                                                       |=================                                             |  27%   |                                                                       |=================                                             |  28%   |                                                                       |==================                                            |  28%   |                                                                       |==================                                            |  29%   |                                                                       |==================                                            |  30%   |                                                                       |===================                                           |  30%   |                                                                       |===================                                           |  31%   |                                                                       |====================                                          |  31%   |                                                                       |====================                                          |  32%   |                                                                       |====================                                          |  33%   |                                                                       |=====================                                         |  33%   |                                                                       |=====================                                         |  34%   |                                                                       |=====================                                         |  35%   |                                                                       |======================                                        |  35%   |                                                                       |======================                                        |  36%   |                                                                       |=======================                                       |  36%   |                                                                       |=======================                                       |  37%   |                                                                       |=======================                                       |  38%   |                                                                       |========================                                      |  38%   |                                                                       |========================                                      |  39%   |                                                                       |========================                                      |  40%   |                                                                       |=========================                                     |  40%   |                                                                       |=========================                                     |  41%   |                                                                       |==========================                                    |  41%   |                                                                       |==========================                                    |  42%   |                                                                       |==========================                                    |  43%   |                                                                       |===========================                                   |  43%   |                                                                       |===========================                                   |  44%   |                                                                       |============================                                  |  44%   |                                                                       |============================                                  |  45%   |                                                                       |============================                                  |  46%   |                                                                       |=============================                                 |  46%   |                                                                       |=============================                                 |  47%   |                                                                       |=============================                                 |  48%   |                                                                       |==============================                                |  48%   |                                                                       |==============================                                |  49%   |                                                                       |===============================                               |  49%   |                                                                       |===============================                               |  50%   |                                                                       |===============================                               |  51%   |                                                                       |================================                              |  51%   |                                                                       |================================                              |  52%   |                                                                       |=================================                             |  52%   |                                                                       |=================================                             |  53%   |                                                                       |=================================                             |  54%   |                                                                       |==================================                            |  54%   |                                                                       |==================================                            |  55%   |                                                                       |==================================                            |  56%   |                                                                       |===================================                           |  56%   |                                                                       |===================================                           |  57%   |                                                                       |====================================                          |  57%   |                                                                       |====================================                          |  58%   |                                                                       |====================================                          |  59%   |                                                                       |=====================================                         |  59%   |                                                                       |=====================================                         |  60%   |                                                                       |======================================                        |  60%   |                                                                       |======================================                        |  61%   |                                                                       |======================================                        |  62%   |                                                                       |=======================================                       |  62%   |                                                                       |=======================================                       |  63%   |                                                                       |=======================================                       |  64%   |                                                                       |========================================                      |  64%   |                                                                       |========================================                      |  65%   |                                                                       |=========================================                     |  65%   |                                                                       |=========================================                     |  66%   |                                                                       |=========================================                     |  67%   |                                                                       |==========================================                    |  67%   |                                                                       |==========================================                    |  68%   |                                                                       |==========================================                    |  69%   |                                                                       |===========================================                   |  69%   |                                                                       |===========================================                   |  70%   |                                                                       |============================================                  |  70%   |                                                                       |============================================                  |  71%   |                                                                       |============================================                  |  72%   |                                                                       |=============================================                 |  72%   |                                                                       |=============================================                 |  73%   |                                                                       |==============================================                |  73%   |                                                                       |==============================================                |  74%   |                                                                       |==============================================                |  75%   |                                                                       |===============================================               |  75%   |                                                                       |===============================================               |  76%   |                                                                       |===============================================               |  77%   |                                                                       |================================================              |  77%   |                                                                       |================================================              |  78%   |                                                                       |=================================================             |  78%   |                                                                       |=================================================             |  79%   |                                                                       |=================================================             |  80%   |                                                                       |==================================================            |  80%   |                                                                       |==================================================            |  81%   |                                                                       |===================================================           |  81%   |                                                                       |===================================================           |  82%   |                                                                       |===================================================           |  83%   |                                                                       |====================================================          |  83%   |                                                                       |====================================================          |  84%   |                                                                       |====================================================          |  85%   |                                                                       |=====================================================         |  85%   |                                                                       |=====================================================         |  86%   |                                                                       |======================================================        |  86%   |                                                                       |======================================================        |  87%   |                                                                       |======================================================        |  88%   |                                                                       |=======================================================       |  88%   |                                                                       |=======================================================       |  89%   |                                                                       |=======================================================       |  90%   |                                                                       |========================================================      |  90%   |                                                                       |========================================================      |  91%   |                                                                       |=========================================================     |  91%   |                                                                       |=========================================================     |  92%   |                                                                       |=========================================================     |  93%   |                                                                       |==========================================================    |  93%   |                                                                       |==========================================================    |  94%   |                                                                       |===========================================================   |  94%   |                                                                       |===========================================================   |  95%   |                                                                       |===========================================================   |  96%   |                                                                       |============================================================  |  96%   |                                                                       |============================================================  |  97%   |                                                                       |============================================================  |  98%   |                                                                       |============================================================= |  98%   |                                                                       |============================================================= |  99%   |                                                                       |==============================================================|  99%   |                                                                       |==============================================================| 100% #> threshold of 0.9 has been provided. Samples will be added until quantile ratio is reached #> Underrepresented Quantile 1 - A total of 5 samples have been allocated. #> Underrepresented Quantile 2 - A total of 2 samples have been allocated. #> Underrepresented Quantile 3 - A total of 2 samples have been allocated. #> Underrepresented Quantile 4 - A total of 3 samples have been allocated. #> Underrepresented Quantile 5 - A total of 4 samples have been allocated. #> Underrepresented Quantile 6 - A total of 2 samples have been allocated. #> Underrepresented Quantile 7 - A total of 5 samples have been allocated. #> Underrepresented Quantile 8 - A total of 6 samples have been allocated. #> Underrepresented Quantile 9 - A total of 1 samples have been allocated. #> Underrepresented Quantile 10 - A total of 2 samples have been allocated. #> Underrepresented Quantile 11 - A total of 8 samples have been allocated. #> Underrepresented Quantile 12 - A total of 4 samples have been allocated. #> Underrepresented Quantile 13 - A total of 7 samples have been allocated. #> Underrepresented Quantile 14 - A total of 4 samples have been allocated. #> Underrepresented Quantile 15 - A total of 2 samples have been allocated. #> Underrepresented Quantile 16 - A total of 5 samples have been allocated. #> Underrepresented Quantile 17 - A total of 1 samples have been allocated. #> A total of 63 new samples added  #> Simple feature collection with 163 features and 4 fields #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: 431110 ymin: 5337750 xmax: 438550 ymax: 5343230 #> CRS:           +proj=utm +zone=17 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs #> First 10 features: #>        type      zmax zmean  zsd               geometry #> 1  existing 11.490000  79.7 4.96 POINT (434970 5343030) #> 2  existing 10.679999  91.9 3.90 POINT (435590 5340510) #> 3  existing  5.640000  24.8 4.23 POINT (434290 5338670) #> 4  existing  7.490000  38.5 3.61 POINT (435170 5340410) #> 5  existing  9.170000  69.4 4.20 POINT (437550 5340650) #> 6  existing 11.059999  79.8 5.30 POINT (435850 5340130) #> 7  existing  9.240000  74.8 5.34 POINT (431630 5343230) #> 8  existing  9.420000  89.6 3.63 POINT (436510 5340870) #> 9  existing  9.059999  65.1 4.80 POINT (435990 5339950) #> 10 existing  8.170000  93.5 3.38 POINT (438250 5337770)  sample_ahels(   mraster = mr[[1:3]],   existing = e,   nQuant = 20,   nSamp = 300,   filename = tempfile(fileext = \".shp\") ) #> Creating covariance matrix. #>    |                                                                       |                                                              |   0%   |                                                                       |                                                              |   1%   |                                                                       |=                                                             |   1%   |                                                                       |=                                                             |   2%   |                                                                       |==                                                            |   2%   |                                                                       |==                                                            |   3%   |                                                                       |==                                                            |   4%   |                                                                       |===                                                           |   4%   |                                                                       |===                                                           |   5%   |                                                                       |===                                                           |   6%   |                                                                       |====                                                          |   6%   |                                                                       |====                                                          |   7%   |                                                                       |=====                                                         |   7%   |                                                                       |=====                                                         |   8%   |                                                                       |=====                                                         |   9%   |                                                                       |======                                                        |   9%   |                                                                       |======                                                        |  10%   |                                                                       |=======                                                       |  10%   |                                                                       |=======                                                       |  11%   |                                                                       |=======                                                       |  12%   |                                                                       |========                                                      |  12%   |                                                                       |========                                                      |  13%   |                                                                       |========                                                      |  14%   |                                                                       |=========                                                     |  14%   |                                                                       |=========                                                     |  15%   |                                                                       |==========                                                    |  15%   |                                                                       |==========                                                    |  16%   |                                                                       |==========                                                    |  17%   |                                                                       |===========                                                   |  17%   |                                                                       |===========                                                   |  18%   |                                                                       |===========                                                   |  19%   |                                                                       |============                                                  |  19%   |                                                                       |============                                                  |  20%   |                                                                       |=============                                                 |  20%   |                                                                       |=============                                                 |  21%   |                                                                       |=============                                                 |  22%   |                                                                       |==============                                                |  22%   |                                                                       |==============                                                |  23%   |                                                                       |===============                                               |  23%   |                                                                       |===============                                               |  24%   |                                                                       |===============                                               |  25%   |                                                                       |================                                              |  25%   |                                                                       |================                                              |  26%   |                                                                       |================                                              |  27%   |                                                                       |=================                                             |  27%   |                                                                       |=================                                             |  28%   |                                                                       |==================                                            |  28%   |                                                                       |==================                                            |  29%   |                                                                       |==================                                            |  30%   |                                                                       |===================                                           |  30%   |                                                                       |===================                                           |  31%   |                                                                       |====================                                          |  31%   |                                                                       |====================                                          |  32%   |                                                                       |====================                                          |  33%   |                                                                       |=====================                                         |  33%   |                                                                       |=====================                                         |  34%   |                                                                       |=====================                                         |  35%   |                                                                       |======================                                        |  35%   |                                                                       |======================                                        |  36%   |                                                                       |=======================                                       |  36%   |                                                                       |=======================                                       |  37%   |                                                                       |=======================                                       |  38%   |                                                                       |========================                                      |  38%   |                                                                       |========================                                      |  39%   |                                                                       |========================                                      |  40%   |                                                                       |=========================                                     |  40%   |                                                                       |=========================                                     |  41%   |                                                                       |==========================                                    |  41%   |                                                                       |==========================                                    |  42%   |                                                                       |==========================                                    |  43%   |                                                                       |===========================                                   |  43%   |                                                                       |===========================                                   |  44%   |                                                                       |============================                                  |  44%   |                                                                       |============================                                  |  45%   |                                                                       |============================                                  |  46%   |                                                                       |=============================                                 |  46%   |                                                                       |=============================                                 |  47%   |                                                                       |=============================                                 |  48%   |                                                                       |==============================                                |  48%   |                                                                       |==============================                                |  49%   |                                                                       |===============================                               |  49%   |                                                                       |===============================                               |  50%   |                                                                       |===============================                               |  51%   |                                                                       |================================                              |  51%   |                                                                       |================================                              |  52%   |                                                                       |=================================                             |  52%   |                                                                       |=================================                             |  53%   |                                                                       |=================================                             |  54%   |                                                                       |==================================                            |  54%   |                                                                       |==================================                            |  55%   |                                                                       |==================================                            |  56%   |                                                                       |===================================                           |  56%   |                                                                       |===================================                           |  57%   |                                                                       |====================================                          |  57%   |                                                                       |====================================                          |  58%   |                                                                       |====================================                          |  59%   |                                                                       |=====================================                         |  59%   |                                                                       |=====================================                         |  60%   |                                                                       |======================================                        |  60%   |                                                                       |======================================                        |  61%   |                                                                       |======================================                        |  62%   |                                                                       |=======================================                       |  62%   |                                                                       |=======================================                       |  63%   |                                                                       |=======================================                       |  64%   |                                                                       |========================================                      |  64%   |                                                                       |========================================                      |  65%   |                                                                       |=========================================                     |  65%   |                                                                       |=========================================                     |  66%   |                                                                       |=========================================                     |  67%   |                                                                       |==========================================                    |  67%   |                                                                       |==========================================                    |  68%   |                                                                       |==========================================                    |  69%   |                                                                       |===========================================                   |  69%   |                                                                       |===========================================                   |  70%   |                                                                       |============================================                  |  70%   |                                                                       |============================================                  |  71%   |                                                                       |============================================                  |  72%   |                                                                       |=============================================                 |  72%   |                                                                       |=============================================                 |  73%   |                                                                       |==============================================                |  73%   |                                                                       |==============================================                |  74%   |                                                                       |==============================================                |  75%   |                                                                       |===============================================               |  75%   |                                                                       |===============================================               |  76%   |                                                                       |===============================================               |  77%   |                                                                       |================================================              |  77%   |                                                                       |================================================              |  78%   |                                                                       |=================================================             |  78%   |                                                                       |=================================================             |  79%   |                                                                       |=================================================             |  80%   |                                                                       |==================================================            |  80%   |                                                                       |==================================================            |  81%   |                                                                       |===================================================           |  81%   |                                                                       |===================================================           |  82%   |                                                                       |===================================================           |  83%   |                                                                       |====================================================          |  83%   |                                                                       |====================================================          |  84%   |                                                                       |====================================================          |  85%   |                                                                       |=====================================================         |  85%   |                                                                       |=====================================================         |  86%   |                                                                       |======================================================        |  86%   |                                                                       |======================================================        |  87%   |                                                                       |======================================================        |  88%   |                                                                       |=======================================================       |  88%   |                                                                       |=======================================================       |  89%   |                                                                       |=======================================================       |  90%   |                                                                       |========================================================      |  90%   |                                                                       |========================================================      |  91%   |                                                                       |=========================================================     |  91%   |                                                                       |=========================================================     |  92%   |                                                                       |=========================================================     |  93%   |                                                                       |==========================================================    |  93%   |                                                                       |==========================================================    |  94%   |                                                                       |===========================================================   |  94%   |                                                                       |===========================================================   |  95%   |                                                                       |===========================================================   |  96%   |                                                                       |============================================================  |  96%   |                                                                       |============================================================  |  97%   |                                                                       |============================================================  |  98%   |                                                                       |============================================================= |  98%   |                                                                       |============================================================= |  99%   |                                                                       |==============================================================|  99%   |                                                                       |==============================================================| 100% #> nSamp of 300 has been provided. Samples will be added until this number is reached #> Underrepresented Quantile 1 - A total of 3 samples have been allocated. #> Underrepresented Quantile 2 - A total of 3 samples have been allocated. #> Underrepresented Quantile 3 - A total of 2 samples have been allocated. #> Underrepresented Quantile 4 - A total of 2 samples have been allocated. #> Underrepresented Quantile 5 - A total of 6 samples have been allocated. #> Underrepresented Quantile 6 - A total of 2 samples have been allocated. #> Underrepresented Quantile 7 - A total of 2 samples have been allocated. #> Underrepresented Quantile 8 - A total of 7 samples have been allocated. #> Underrepresented Quantile 9 - A total of 1 samples have been allocated. #> Underrepresented Quantile 10 - A total of 2 samples have been allocated. #> Underrepresented Quantile 11 - A total of 7 samples have been allocated. #> Underrepresented Quantile 12 - A total of 10 samples have been allocated. #> Underrepresented Quantile 13 - A total of 1 samples have been allocated. #> Underrepresented Quantile 14 - A total of 1 samples have been allocated. #> Underrepresented Quantile 15 - A total of 4 samples have been allocated. #> Underrepresented Quantile 16 - A total of 5 samples have been allocated. #> Underrepresented Quantile 17 - A total of 2 samples have been allocated. #> Underrepresented Quantile 18 - A total of 5 samples have been allocated. #> Underrepresented Quantile 19 - A total of 2 samples have been allocated. #> Underrepresented Quantile 20 - A total of 4 samples have been allocated. #> Underrepresented Quantile 21 - A total of 1 samples have been allocated. #> Underrepresented Quantile 22 - A total of 5 samples have been allocated. #> Underrepresented Quantile 23 - A total of 1 samples have been allocated. #> Underrepresented Quantile 24 - A total of 3 samples have been allocated. #> Underrepresented Quantile 25 - A total of 1 samples have been allocated. #> Underrepresented Quantile 26 - A total of 1 samples have been allocated. #> Underrepresented Quantile 27 - A total of 8 samples have been allocated. #> Underrepresented Quantile 28 - A total of 3 samples have been allocated. #> Underrepresented Quantile 29 - A total of 1 samples have been allocated. #> Underrepresented Quantile 30 - A total of 1 samples have been allocated. #> Underrepresented Quantile 31 - A total of 5 samples have been allocated. #> Underrepresented Quantile 32 - A total of 3 samples have been allocated. #> Underrepresented Quantile 33 - A total of 3 samples have been allocated. #> Underrepresented Quantile 34 - A total of 1 samples have been allocated. #> Underrepresented Quantile 35 - A total of 1 samples have been allocated. #> Underrepresented Quantile 36 - A total of 1 samples have been allocated. #> Underrepresented Quantile 37 - A total of 1 samples have been allocated. #> Underrepresented Quantile 38 - A total of 1 samples have been allocated. #> Underrepresented Quantile 39 - A total of 6 samples have been allocated. #> Underrepresented Quantile 40 - A total of 2 samples have been allocated. #> Underrepresented Quantile 41 - A total of 4 samples have been allocated. #> Underrepresented Quantile 42 - A total of 1 samples have been allocated. #> Underrepresented Quantile 43 - A total of 4 samples have been allocated. #> Underrepresented Quantile 44 - A total of 1 samples have been allocated. #> Underrepresented Quantile 45 - A total of 1 samples have been allocated. #> Underrepresented Quantile 46 - A total of 4 samples have been allocated. #> Underrepresented Quantile 47 - A total of 3 samples have been allocated. #> Underrepresented Quantile 48 - A total of 5 samples have been allocated. #> Underrepresented Quantile 49 - A total of 3 samples have been allocated. #> Underrepresented Quantile 50 - A total of 1 samples have been allocated. #> Underrepresented Quantile 51 - A total of 3 samples have been allocated. #> Underrepresented Quantile 52 - A total of 3 samples have been allocated. #> Underrepresented Quantile 53 - A total of 1 samples have been allocated. #> Underrepresented Quantile 54 - A total of 2 samples have been allocated. #> Underrepresented Quantile 55 - A total of 1 samples have been allocated. #> Underrepresented Quantile 56 - A total of 1 samples have been allocated. #> Underrepresented Quantile 57 - A total of 8 samples have been allocated. #> Underrepresented Quantile 58 - A total of 4 samples have been allocated. #> Underrepresented Quantile 59 - A total of 4 samples have been allocated. #> Underrepresented Quantile 60 - A total of 6 samples have been allocated. #> Underrepresented Quantile 61 - A total of 1 samples have been allocated. #> Underrepresented Quantile 62 - A total of 1 samples have been allocated. #> Underrepresented Quantile 63 - A total of 1 samples have been allocated. #> Underrepresented Quantile 64 - A total of 6 samples have been allocated. #> Underrepresented Quantile 65 - A total of 1 samples have been allocated. #> Underrepresented Quantile 66 - A total of 1 samples have been allocated. #> Underrepresented Quantile 67 - A total of 3 samples have been allocated. #> Underrepresented Quantile 68 - A total of 1 samples have been allocated. #> Underrepresented Quantile 69 - A total of 1 samples have been allocated. #> Underrepresented Quantile 70 - A total of 2 samples have been allocated. #> Underrepresented Quantile 71 - A total of 1 samples have been allocated. #> Underrepresented Quantile 72 - A total of 3 samples have been allocated. #> Underrepresented Quantile 73 - A total of 2 samples have been allocated. #> Underrepresented Quantile 74 - A total of 1 samples have been allocated. #> Underrepresented Quantile 75 - A total of 3 samples have been allocated. #> Underrepresented Quantile 76 - A total of 6 samples have been allocated. #> Underrepresented Quantile 77 - A total of 5 samples have been allocated. #> Underrepresented Quantile 78 - A total of 3 samples have been allocated. #> Underrepresented Quantile 79 - A total of 4 samples have been allocated. #> Underrepresented Quantile 80 - A total of 2 samples have been allocated. #> Underrepresented Quantile 81 - A total of 2 samples have been allocated. #> Underrepresented Quantile 82 - A total of 1 samples have been allocated. #> Underrepresented Quantile 83 - A total of 2 samples have been allocated. #> Underrepresented Quantile 84 - A total of 2 samples have been allocated. #> Underrepresented Quantile 85 - A total of 4 samples have been allocated. #> Underrepresented Quantile 86 - A total of 2 samples have been allocated. #> Underrepresented Quantile 87 - A total of 1 samples have been allocated. #> Underrepresented Quantile 88 - A total of 2 samples have been allocated. #> Underrepresented Quantile 89 - A total of 1 samples have been allocated. #> Underrepresented Quantile 90 - A total of 1 samples have been allocated. #> Underrepresented Quantile 91 - A total of 3 samples have been allocated. #> Underrepresented Quantile 92 - A total of 2 samples have been allocated. #> Underrepresented Quantile 93 - A total of 4 samples have been allocated. #> Underrepresented Quantile 94 - A total of 3 samples have been allocated. #> Underrepresented Quantile 95 - A total of 1 samples have been allocated. #> Underrepresented Quantile 96 - A total of 3 samples have been allocated. #> Underrepresented Quantile 97 - A total of 2 samples have been allocated. #> Underrepresented Quantile 98 - A total of 2 samples have been allocated. #> Underrepresented Quantile 99 - A total of 2 samples have been allocated. #> Underrepresented Quantile 100 - A total of 2 samples have been allocated. #> Underrepresented Quantile 101 - A total of 3 samples have been allocated. #> Underrepresented Quantile 102 - A total of 3 samples have been allocated. #> Underrepresented Quantile 103 - A total of 4 samples have been allocated. #> Underrepresented Quantile 104 - A total of 5 samples have been allocated. #> Underrepresented Quantile 105 - A total of 1 samples have been allocated. #> Underrepresented Quantile 106 - A total of 2 samples have been allocated. #> Underrepresented Quantile 107 - A total of 1 samples have been allocated. #> Underrepresented Quantile 108 - A total of 2 samples have been allocated. #> Underrepresented Quantile 109 - A total of 2 samples have been allocated. #> Underrepresented Quantile 110 - A total of 3 samples have been allocated. #> Underrepresented Quantile 111 - A total of 3 samples have been allocated. #> Underrepresented Quantile 112 - A total of 1 samples have been allocated. #> A total of 300 new samples added #> Writing layer `file77bc6a2c803' to data source  #>   `C:\\Users\\tgood.stu\\AppData\\Local\\Temp\\RtmporEPgO\\file77bc6a2c803.shp' using driver `ESRI Shapefile' #> Writing 400 features with 4 fields and geometry type Point. #> Simple feature collection with 400 features and 4 fields #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: 431110 ymin: 5337710 xmax: 438550 ymax: 5343230 #> CRS:           +proj=utm +zone=17 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs #> First 10 features: #>        type      zmax zmean  zsd               geometry #> 1  existing 11.490000  79.7 4.96 POINT (434970 5343030) #> 2  existing 10.679999  91.9 3.90 POINT (435590 5340510) #> 3  existing  5.640000  24.8 4.23 POINT (434290 5338670) #> 4  existing  7.490000  38.5 3.61 POINT (435170 5340410) #> 5  existing  9.170000  69.4 4.20 POINT (437550 5340650) #> 6  existing 11.059999  79.8 5.30 POINT (435850 5340130) #> 7  existing  9.240000  74.8 5.34 POINT (431630 5343230) #> 8  existing  9.420000  89.6 3.63 POINT (436510 5340870) #> 9  existing  9.059999  65.1 4.80 POINT (435990 5339950) #> 10 existing  8.170000  93.5 3.38 POINT (438250 5337770)"},{"path":"/reference/sample_balanced.html","id":null,"dir":"Reference","previous_headings":"","what":"Balanced sampling — sample_balanced","title":"Balanced sampling — sample_balanced","text":"Balanced raster sampling using lcube lpm2_kdtree methods","code":""},{"path":"/reference/sample_balanced.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Balanced sampling — sample_balanced","text":"","code":"sample_balanced(   mraster,   nSamp,   algorithm = \"lpm2_kdtree\",   p = NULL,   access = NULL,   buff_inner = NULL,   buff_outer = NULL,   plot = FALSE,   filename = NULL,   overwrite = FALSE )"},{"path":"/reference/sample_balanced.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Balanced sampling — sample_balanced","text":"mraster spatRaster. ALS metrics raster. nSamp Numeric. Number desired samples. algorithm Character. One lpm2_kdtree, lcube, lcubestratified p Numeric. Vector length equal number cells mraster representing inclusion probability candidate sample. Default = nSamp / N, N number cells. access sf. Road access network - must lines. buff_inner Numeric. Inner buffer boundary specifying distance access plots sampled. buff_outer Numeric. Outer buffer boundary specifying distance access plots can sampled. plot Logical. Plots output strata raster visualized strata boundary dividers. filename Character. Path write stratified raster disc. overwrite Logical. Specify whether filename overwritten disc.","code":""},{"path":"/reference/sample_balanced.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Balanced sampling — sample_balanced","text":"sf object nSamp randomly sampled points.","code":""},{"path":"/reference/sample_balanced.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Balanced sampling — sample_balanced","text":"Anton Grafstrom Jonathan Lisic (2019). BalancedSampling: Balanced Spatially Balanced Sampling. R package version 1.5.5. https://CRAN.R-project.org/package=BalancedSampling Jonathan Lisic Anton Grafstrom (2018). SamplingBigData: Sampling Methods Big Data. R package version 1.0.0. https://CRAN.R-project.org/package=SamplingBigData Grafström, . Lisic, J (2018). BalancedSampling: Balanced Spatially Balanced Sampling.  R package version 1.5.4. http://www.antongrafstrom.se/balancedsampling","code":""},{"path":[]},{"path":"/reference/sample_balanced.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Balanced sampling — sample_balanced","text":"Tristan R.H. Goodbody","code":""},{"path":"/reference/sample_balanced.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Balanced sampling — sample_balanced","text":"","code":"if (FALSE) { #--- Load raster and existing plots---# r <- system.file(\"extdata\", \"wall_metrics.tif\", package = \"sgsR\") mr <- terra::rast(r)  a <- system.file(\"extdata\", \"roads.shp\", package = \"sgsR\") ac <- sf::st_read(a)  sample_balanced(   mraster = mr,   nSamp = 200,   plot = TRUE )  sample_balanced(   mraster = mr,   nSamp = 100,   algorithm = \"lcube\",   access = ac,   buff_inner = 50,   buff_outer = 200 ) }"},{"path":"/reference/sample_clhs.html","id":null,"dir":"Reference","previous_headings":"","what":"CLHS sampling — sample_clhs","title":"CLHS sampling — sample_clhs","text":"Conditioned Latin Hypercube Sampling using clhs functionality.","code":""},{"path":"/reference/sample_clhs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"CLHS sampling — sample_clhs","text":"","code":"sample_clhs(   mraster,   nSamp,   iter = 10000,   cost = NULL,   existing = NULL,   access = NULL,   buff_inner = NULL,   buff_outer = NULL,   plot = FALSE,   details = FALSE,   filename = NULL,   overwrite = FALSE,   ... )"},{"path":"/reference/sample_clhs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"CLHS sampling — sample_clhs","text":"mraster spatRaster. ALS metrics raster. nSamp Numeric. Number desired samples. iter Numeric. Value giving number iterations within Metropolis-Hastings process. cost Numeric/Character. Index name covariate within mraster used constrain cLHS sampling. default - NULL cost constraint used. existing sf. Samples resulting sample_* functions. access sf. Road access network - must lines. buff_inner Numeric. Inner buffer boundary specifying distance access plots sampled. buff_outer Numeric. Outer buffer boundary specifying distance access plots can sampled. plot Logical. Plots output strata raster samples. details Logical. FALSE (default) output  stratification raster. TRUE return list $details additional stratification information  $raster output stratification spatRaster.  @param ... Additional arguments passed kmeans function. filename Character. Path write output samples. overwrite Logical. Choice overwrite existing filename exists. ... Additional arguments clhs sampling. See clhs.","code":""},{"path":"/reference/sample_clhs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"CLHS sampling — sample_clhs","text":"sf object nSamp stratified samples.","code":""},{"path":"/reference/sample_clhs.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"CLHS sampling — sample_clhs","text":"Minasny, B. McBratney, .B. 2006. conditioned Latin hypercube method sampling presence ancillary information. Computers Geosciences, 32:1378-1388. Minasny, B. . B. McBratney, .B.. 2010. Conditioned Latin Hypercube Sampling Calibrating Soil Sensor Data Soil Properties. : Proximal Soil Sensing, Progress Soil Science, pages 111-119. Roudier, P., Beaudette, D.E. Hewitt, .E. 2012. conditioned Latin hypercube sampling algorithm incorporating operational constraints. : Digital Soil Assessments Beyond. Proceedings 5th Global Workshop Digital Soil Mapping, Sydney, Australia.","code":""},{"path":[]},{"path":"/reference/sample_clhs.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"CLHS sampling — sample_clhs","text":"Tristan R.H. Goodbody","code":""},{"path":"/reference/sample_clhs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"CLHS sampling — sample_clhs","text":"","code":"#--- Load raster and existing plots---# r <- system.file(\"extdata\", \"wall_metrics.tif\", package = \"sgsR\") mr <- terra::rast(r)  e <- system.file(\"extdata\", \"existing.shp\", package = \"sgsR\") e <- sf::st_read(e) #> Reading layer `existing' from data source  #>   `C:\\Users\\tgood.stu\\AppData\\Local\\Temp\\RtmpCYYtR3\\temp_libpath29b8306a58fc\\sgsR\\extdata\\existing.shp'  #>   using driver `ESRI Shapefile' #> Simple feature collection with 100 features and 1 field #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: 431110 ymin: 5337750 xmax: 438550 ymax: 5343230 #> CRS:           unknown  a <- system.file(\"extdata\", \"roads.shp\", package = \"sgsR\") ac <- sf::st_read(a) #> Reading layer `roads' from data source  #>   `C:\\Users\\tgood.stu\\AppData\\Local\\Temp\\RtmpCYYtR3\\temp_libpath29b8306a58fc\\sgsR\\extdata\\roads.shp'  #>   using driver `ESRI Shapefile' #> Simple feature collection with 167 features and 2 fields #> Geometry type: MULTILINESTRING #> Dimension:     XY #> Bounding box:  xmin: 431100 ymin: 5337700 xmax: 438560 ymax: 5343240 #> Projected CRS: UTM_Zone_17_Northern_Hemisphere  sample_clhs(   mraster = mr,   nSamp = 200,   plot = TRUE,   iter = 100 )  #> Simple feature collection with 200 features and 10 fields #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: 431170 ymin: 5337730 xmax: 438530 ymax: 5343230 #> CRS:           +proj=utm +zone=17 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs #> First 10 features: #>        zmax zmean  zsd pzabove2  zq20      zq50  zq70  zq90  zq95 type #> 78914 11.14  91.3 3.20     7.03  8.55 11.179999 12.76 16.54 17.76  new #> 52778 11.34  17.8 4.89     4.24  6.35 11.790000 14.38 18.93 21.51  new #> 32961  9.36  82.4 4.47     3.48  5.10  9.059999 12.27 16.45 19.19  new #> 79422 10.87  93.3 3.00     7.29  8.77 11.059999 12.58 15.25 16.43  new #> 53686 13.56  89.2 3.98     8.54 10.83 13.889999 15.82 19.06 21.83  new #> 35645  8.65  83.2 4.60     3.03  4.13  8.090000 11.54 16.84 18.54  new #> 75146  7.99  79.4 6.79     1.85  2.28  3.790000 13.68 19.66 20.95  new #> 35394  7.53  94.4 2.28     4.46  5.57  7.610000  8.82 11.14 12.54  new #> 89969 10.99  77.6 5.54     2.48  5.35 11.590000 14.78 19.23 21.35  new #> 73577  9.91  85.4 2.61     6.22  7.83 10.389999 11.50 13.46 14.39  new #>                     geometry #> 78914 POINT (434490 5338390) #> 52778 POINT (435430 5340150) #> 32961 POINT (437490 5341330) #> 79422 POINT (431570 5338350) #> 53686 POINT (432890 5340090) #> 35645 POINT (436190 5341170) #> 75146 POINT (431950 5338630) #> 35394 POINT (438030 5341190) #> 89969 POINT (435790 5337770) #> 73577 POINT (434590 5338770)  sample_clhs(   mraster = mr,   nSamp = 400,   existing = e,   iter = 250,   details = TRUE ) #> $clhs #>   [1] 90445 59812 58491 63554 54496 66514  4471 14569 77001 22497  3284 #>  [12] 77403 28689 36511 36915 59259 29551 29889 49051 17471 73585 25632 #>  [23] 23012 43773 89941 47106 37364 34336 14130  1842 23342 22034 53086 #>  [34] 22368  3660  4843 23283  3537 14105   905 79200  8833  5107 12266 #>  [45] 76487 42308 64276 87442 78063 16662 39609 67816 16918 88555 30621 #>  [56] 30538 48255 26573 45026 75007 21193 27061 42790 39754 35421 40813 #>  [67] 75608 20644 57808 84350 55596 33172 41251 88752  6472 76090 18416 #>  [78] 89175 27431 48735  5438 15100 13760 72871 58997 85811 39109 80086 #>  [89] 41386 13702 78149 84711  2339 71689 74148 68598 19509 74843 23537 #> [100] 76942 90981 19746 37218 25327 65469 24125 28824 33601 41970 80304 #> [111] 26977 71218 45834  4404 70274 41793 33711 73626  3396 61815 15777 #> [122] 20287 45575 40658 68331 24049 86148 32897 32292 89096 29424 85501 #> [133] 25777 37629 56497 18620 48247 83196 72521 65486 70734 83329 75667 #> [144] 61992 48144 71313 85779 63968 49373 12961 87210 90581 40657 68414 #> [155] 83894 20332 66775 18184 84300 27643 55241 66891 70499 49757 23521 #> [166] 56850 74552 54069 76009 58236 65188 52862  1808 30360 49947 10617 #> [177]  5931 33579  6176 33567 43451 55832 61325 19206  7015 65668 65509 #> [188] 14469 41753  8825 61155 34240 64036 61326 46617 73399 63940 17419 #> [199] 63764 56188 35570 21587 49880 88518 67950 59126 19641  2075 29627 #> [210]  9316  6457  4509 57456 42209 62321 81160  4478 45620 70688 82592 #> [221]  4428 69940 19154 24791 29859 48369 57223 13771 75580 42250 75572 #> [232] 36461 12412 48781 48527 58210 41788 41116 74700  2059 72208 48812 #> [243] 24089 33255 71911 17675 50774 68086 65951 32110  1225 51548 40821 #> [254] 24179 11282 43921 17869 11051 29521 27526 69591 88412 23692 38861 #> [265] 16470 77187 43001 36573  2182 51808 20265 18749 52919 53899 53638 #> [276] 87211 25231 85443 15657 88419 45134 60725 89887 50477 68861 39441 #> [287] 58694 12634 54051 27285 78706 15818 56575 21051 80044 43882 58527 #> [298] 58104 26606  7006 51160 55567 73641 81961 19092 22205 72705 74446 #> [309] 41119  8373 12360 83095 48511 60367 79161  5789 52318 58810 22690 #> [320] 26894 72503 13348 30369 89285 85887  9070  7655 32912 41987  1084 #> [331] 22095 78041 76481 81938 47812 84107 25790 65340 45201 26638 65621 #> [342] 22938 50098  1492 80178 85722 62799 44659 20306 21700  3798  7301 #> [353] 40570 51347 90965 13639 56310 44256  1413 44347 30679 74413  8596 #> [364] 53518 75956 65134  6944 70952 58840 35813 26159 44095 28532 50773 #> [375] 16947 67687 56116 41250 10929 10016 52464 90013 39428   874 29739 #> [386] 84912 14171 39921 38814 62486 45424 29632 33100 10649 84122 46850 #> [397] 54292 19564 47837 31285 #>  #> $samples #> Simple feature collection with 400 features and 10 fields #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: 431110 ymin: 5337710 xmax: 438530 ymax: 5343190 #> CRS:           +proj=utm +zone=17 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs #> First 10 features: #>            zmax zmean  zsd pzabove2  zq20      zq50      zq70      zq90 #> 90345  7.460000  94.2 2.77     3.62  5.02  7.620000  9.090000 11.730000 #> 59712  4.710000  87.0 2.19     2.11  2.68  4.330000  5.780000  8.679999 #> 58391  7.950000  79.2 2.72     3.82  5.29  8.360000  9.580000 12.030000 #> 63454  4.660000  60.7 2.97     1.67  2.09  3.710000  5.630000 10.960000 #> 54396  6.390000  60.1 3.88     1.64  2.17  6.300000  8.389999 13.420000 #> 66414  9.389999  94.9 3.63     4.46  6.39  9.349999 11.030000 15.870000 #> 4371  11.790000  88.2 3.60     6.81  8.92 12.120000 14.049999 16.730000 #> 14469 14.200000  93.1 2.99    10.97 12.38 14.049999 15.540000 18.930000 #> 76901  4.520000  59.5 2.71     1.60  1.94  3.890000  5.690000  9.740000 #> 22397 11.969999  93.8 2.81     8.79 10.25 12.330000 13.380000 15.870000 #>        zq95 type               geometry #> 90345 13.41  new POINT (436190 5337750) #> 59712 10.36  new POINT (436630 5339730) #> 58391 13.39  new POINT (432730 5339810) #> 63454 13.51  new POINT (437390 5339510) #> 54396 15.52  new POINT (433070 5340050) #> 66414 18.79  new POINT (433870 5339310) #> 4371  18.52  new POINT (431810 5342950) #> 14469 20.86  new POINT (434170 5342370) #> 76901 11.27  new POINT (432390 5338510) #> 22397 17.31  new POINT (433550 5341930) #>   sample_clhs(   mraster = mr,   nSamp = 200,   iter = 200,   existing = e,   access = ac,   buff_inner = 100,   buff_outer = 300,   plot = TRUE ) #> An access layer has been provided. An internal buffer of 100 m and an external buffer of 300 m have been applied  #> Simple feature collection with 200 features and 10 fields #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: 431130 ymin: 5337710 xmax: 438550 ymax: 5343230 #> CRS:           +proj=utm +zone=17 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs #> First 10 features: #>        zmax zmean  zsd pzabove2 zq20  zq50  zq70  zq90  zq95 type #> 28421  8.51  86.1 3.84     3.70 4.98  8.20 10.43 15.44 17.99  new #> 17419 11.67  87.9 6.13     3.00 5.00 12.38 15.98 20.94 23.01  new #> 13997  8.57  86.5 4.18     2.80 4.41  8.59 10.93 15.36 18.92  new #> 34850  4.65  77.3 2.30     1.91 2.55  4.29  5.71  8.80 11.66  new #> 19253  8.78  91.0 2.77     5.12 6.54  8.94 10.23 13.17 14.70  new #> 37880  8.92  94.4 2.14     5.87 7.28  9.28 10.17 11.91 12.71  new #> 4523   2.56  44.6 1.12     1.50 1.69  2.27  2.79  4.75  7.05  new #> 27322 10.60  96.1 4.89     3.16 5.22 11.08 13.61 18.08 19.88  new #> 34284  6.26  97.5 2.42     3.93 4.53  5.59  6.76 11.75 13.60  new #> 21036  8.45  91.6 3.10     4.26 5.93  8.54  9.88 13.81 15.80  new #>                     geometry #> 28421 POINT (437810 5339350) #> 17419 POINT (431550 5340950) #> 13997 POINT (432530 5341410) #> 34850 POINT (437450 5338350) #> 19253 POINT (433450 5340690) #> 37880 POINT (435270 5337870) #> 4523  POINT (436110 5342590) #> 27322 POINT (432250 5339490) #> 34284 POINT (437110 5338430) #> 21036 POINT (433890 5340470)  #--- cost constrained examples ---# #--- calculate distance to access layer for each pixel in mr ---# mr.c <- calculate_distance(   raster = mr,   access = ac ) #> calculating per pixel distance to provided access layer  sample_clhs(   mraster = mr.c,   nSamp = 250,   iter = 200,   cost = \"dist2access\",   plot = TRUE )  #> Simple feature collection with 250 features and 11 fields #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: 431130 ymin: 5337710 xmax: 438510 ymax: 5343230 #> CRS:           +proj=utm +zone=17 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs #> First 10 features: #>            zmax zmean  zsd pzabove2  zq20  zq50  zq70  zq90  zq95 #> 80900 11.190000  92.2 3.23     6.37  8.57 11.75 13.15 15.45 16.98 #> 44087  9.820000  90.6 5.78     3.13  4.22  8.88 12.79 20.60 23.70 #> 55615  9.719999  83.4 4.75     3.14  5.01  9.63 12.31 17.80 20.07 #> 86328  8.889999  83.9 3.08     4.90  6.30  9.05 10.46 14.06 15.82 #> 36263  2.240000  10.9 0.92     1.40  1.51  1.95  2.43  4.18  5.06 #> 45885 14.770000  94.0 2.88    12.36 13.49 15.19 16.06 18.44 19.79 #> 84387 16.410000  95.2 3.58    11.82 14.20 17.07 18.36 21.02 23.55 #> 45779  4.110000  80.3 2.43     1.86  2.20  3.14  4.93  9.40 11.86 #> 20462  7.150000  71.3 3.84     2.34  3.57  6.79  8.95 13.63 18.53 #> 66147  1.990000   2.7 0.56     1.37  1.45  1.86  2.27  3.07  3.47 #>       dist2access type               geometry #> 80900  319.157344  new POINT (434750 5338270) #> 44087  291.127700  new POINT (437910 5340670) #> 55615  580.530486  new POINT (437490 5339990) #> 86328  284.456024  new POINT (434730 5337970) #> 36263  107.700420  new POINT (434350 5341130) #> 45885   67.822701  new POINT (432830 5340550) #> 84387  645.405516  new POINT (432510 5338070) #> 45779  370.868734  new POINT (437810 5340570) #> 20462  119.647053  new POINT (437850 5342050) #> 66147    4.471576  new POINT (434310 5339330)  sample_clhs(   mraster = mr.c,   nSamp = 250,   existing = e,   iter = 200,   cost = \"dist2access\",   plot = TRUE )  #> Simple feature collection with 250 features and 11 fields #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: 431110 ymin: 5337730 xmax: 438550 ymax: 5343210 #> CRS:           +proj=utm +zone=17 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs #> First 10 features: #>        zmax zmean  zsd pzabove2  zq20  zq50  zq70  zq90  zq95 #> 61484 10.69  79.0 4.01     4.60  7.63 11.00 12.83 16.70 18.65 #> 56342 14.67  96.9 2.05    12.92 13.73 14.82 15.70 17.08 17.62 #> 30002  1.91  14.2 0.50     1.39  1.48  1.81  2.08  2.86  3.45 #> 52732 12.57  95.6 3.48     8.05  9.77 12.73 14.62 17.41 20.83 #> 16670  3.44  33.8 1.90     1.55  1.86  2.87  3.99  7.59  9.37 #> 89969 10.99  77.6 5.54     2.48  5.35 11.59 14.78 19.23 21.35 #> 20561 13.75  77.1 4.37     6.86 10.09 15.14 16.65 18.77 19.79 #> 30588  8.32  87.6 3.11     3.99  5.92  8.37  9.83 13.43 15.41 #> 77365  5.32  47.0 2.86     1.88  2.54  4.84  6.76 10.64 11.88 #> 27601  2.40   5.2 1.74     1.37  1.46  1.77  2.11  7.18  8.92 #>       dist2access type               geometry #> 61484  340.869070  new POINT (438450 5339630) #> 56342  649.374053  new POINT (431350 5339930) #> 30002   37.488769  new POINT (434330 5341490) #> 52732  295.723672  new POINT (434510 5340150) #> 16670  163.816028  new POINT (434950 5342250) #> 89969  363.107624  new POINT (435790 5337770) #> 20561    9.330054  new POINT (432490 5342030) #> 30588  438.716402  new POINT (431930 5341450) #> 77365  146.471419  new POINT (435630 5338490) #> 27601  149.463122  new POINT (434810 5341630)"},{"path":"/reference/sample_srs.html","id":null,"dir":"Reference","previous_headings":"","what":"Simple random sampling — sample_srs","title":"Simple random sampling — sample_srs","text":"Randomly sample within stratification raster extent.","code":""},{"path":"/reference/sample_srs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simple random sampling — sample_srs","text":"","code":"sample_srs(   raster,   nSamp,   mindist = 100,   access = NULL,   buff_inner = NULL,   buff_outer = NULL,   plot = FALSE,   filename = NULL,   overwrite = FALSE )"},{"path":"/reference/sample_srs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Simple random sampling — sample_srs","text":"raster spatRaster. Raster used random sampling. nSamp Numeric. Number desired samples. mindist Numeric. Minimum allowable distance selected samples. Default = 100. access sf. Road access network - must lines. buff_inner Numeric. Inner buffer boundary specifying distance access plots sampled. buff_outer Numeric. Outer buffer boundary specifying distance access plots can sampled. plot Logical. Plots output strata raster samples. filename Character. Path write output samples. overwrite Logical. Choice overwrite existing filename exists.","code":""},{"path":"/reference/sample_srs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Simple random sampling — sample_srs","text":"sf object nSamp randomly sampled points.","code":""},{"path":[]},{"path":"/reference/sample_srs.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Simple random sampling — sample_srs","text":"Tristan R.H. Goodbody & Martin Queinnec","code":""},{"path":"/reference/sample_srs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Simple random sampling — sample_srs","text":"","code":"#--- Load raster and access files ---# r <- system.file(\"extdata\", \"kmeans.tif\", package = \"sgsR\") sr <- terra::rast(r)  a <- system.file(\"extdata\", \"roads.shp\", package = \"sgsR\") ac <- sf::st_read(a) #> Reading layer `roads' from data source  #>   `C:\\Users\\tgood.stu\\AppData\\Local\\Temp\\RtmpCYYtR3\\temp_libpath29b8306a58fc\\sgsR\\extdata\\roads.shp'  #>   using driver `ESRI Shapefile' #> Simple feature collection with 167 features and 2 fields #> Geometry type: MULTILINESTRING #> Dimension:     XY #> Bounding box:  xmin: 431100 ymin: 5337700 xmax: 438560 ymax: 5343240 #> Projected CRS: UTM_Zone_17_Northern_Hemisphere  #--- perform simple random sampling ---# sample_srs(   raster = sr,   nSamp = 200,   plot = TRUE )  #> Simple feature collection with 200 features and 0 fields #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: 431110 ymin: 5337730 xmax: 438530 ymax: 5343230 #> CRS:           +proj=utm +zone=17 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs #> First 10 features: #>                  geometry #> 1  POINT (435930 5342330) #> 2  POINT (435930 5342330) #> 3  POINT (433990 5340730) #> 4  POINT (436570 5339230) #> 5  POINT (432750 5341530) #> 6  POINT (435910 5337790) #> 7  POINT (436290 5343210) #> 8  POINT (436830 5342310) #> 9  POINT (432210 5341890) #> 10 POINT (432510 5342990)  sample_srs(   raster = sr,   nSamp = 200,   access = ac,   mindist = 200,   buff_inner = 50,   buff_outer = 200 ) #> An access layer has been provided. An internal buffer of 50 m and an external buffer of 200 m have been applied #> Registered S3 method overwritten by 'spatstat.geom': #>   method     from #>   print.boxx cli  #> Simple feature collection with 200 features and 0 fields #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: 431170 ymin: 5337710 xmax: 438510 ymax: 5343210 #> CRS:           +proj=utm +zone=17 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs #> First 10 features: #>                  geometry #> 1  POINT (434370 5338570) #> 2  POINT (434210 5342750) #> 3  POINT (431750 5342450) #> 4  POINT (432910 5340770) #> 5  POINT (432970 5341810) #> 6  POINT (435710 5338490) #> 7  POINT (432490 5341310) #> 8  POINT (438050 5340230) #> 9  POINT (435090 5338990) #> 10 POINT (434770 5341590)  sample_srs(   raster = sr,   nSamp = 200,   access = ac,   buff_inner = 50,   buff_outer = 200,   filename = tempfile(fileext = \".shp\") ) #> An access layer has been provided. An internal buffer of 50 m and an external buffer of 200 m have been applied #> Writing layer `file77bc18db7104' to data source  #>   `C:\\Users\\tgood.stu\\AppData\\Local\\Temp\\RtmporEPgO\\file77bc18db7104.shp' using driver `ESRI Shapefile' #> Writing 200 features with 0 fields and geometry type Point. #> Simple feature collection with 200 features and 0 fields #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: 431150 ymin: 5337730 xmax: 438510 ymax: 5343210 #> CRS:           +proj=utm +zone=17 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs #> First 10 features: #>                  geometry #> 1  POINT (435390 5342430) #> 2  POINT (435390 5342430) #> 3  POINT (438070 5340970) #> 4  POINT (432770 5339870) #> 5  POINT (436430 5342910) #> 6  POINT (433770 5341110) #> 7  POINT (431970 5338550) #> 8  POINT (438010 5338370) #> 9  POINT (433250 5340830) #> 10 POINT (434150 5342610)"},{"path":"/reference/sample_strat.html","id":null,"dir":"Reference","previous_headings":"","what":"Stratified sampling — sample_strat","title":"Stratified sampling — sample_strat","text":"Sampling based stratified raster.","code":""},{"path":"/reference/sample_strat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Stratified sampling — sample_strat","text":"","code":"sample_strat(   sraster,   nSamp,   force = FALSE,   allocation = \"prop\",   mraster = NULL,   mindist = NULL,   existing = NULL,   include = FALSE,   access = NULL,   buff_inner = NULL,   buff_outer = NULL,   wrow = 3,   wcol = 3,   plot = FALSE,   details = FALSE,   filename = NULL,   overwrite = FALSE )"},{"path":"/reference/sample_strat.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Stratified sampling — sample_strat","text":"sraster spatRaster. Stratification raster used sampling. nSamp Numeric. Number desired samples. existing include force influence value. force Logical. Default = FALSE - force nSamp exactly user defined value cases nSamp sraster strata count equally divisible. effect existing provided. allocation Character. Allocation algorithm used. Either prop (default) proportional allocation optim optimal allocation (equal sampling cost) equal equal number samples (defined nSamp)  strata. mraster spatRaster. ALS metric raster. Required allocation = optim. mindist Numeric. Minimum allowable distance selected samples. Default = 100. existing sf data.frame.  Existing plot network. include Logical. TRUE include existing plots nSamp total. access sf. Road access network - must lines. buff_inner Numeric. Inner buffer boundary specifying distance access plots sampled. buff_outer Numeric. Outer buffer boundary specifying distance access plots can sampled. wrow Numeric. Number row focal window (default 3). wcol Numeric. Number columns focal window (default 3). plot Logical. Plots existing (circles) new (crosses) samples. details Logical. FALSE (default) output sf object stratified samples. TRUE return list $details additional sampling information $raster sf object stratified samples. filename Character. Path write output samples. overwrite Logical. Choice overwrite existing filename exists.","code":""},{"path":"/reference/sample_strat.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Stratified sampling — sample_strat","text":"sf object nSamp stratified samples.","code":""},{"path":"/reference/sample_strat.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Stratified sampling — sample_strat","text":"sampling performed 2 stages: Rule 1 - Sample within grouped stratum pixels defined within wrow, wcol parameters Rule 2 - samples exist satisfy desired sampling count,  individual stratum pixels sampled. rule applied allocate sample defined rule attribute output samples.","code":""},{"path":"/reference/sample_strat.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Stratified sampling — sample_strat","text":"Queinnec, M., White, J. C., & Coops, N. C. (2021).  Comparing airborne spaceborne photon-counting LiDAR canopy  structural estimates across different boreal forest types.  Remote Sensing Environment, 262 (August 2020), 112510.  https://doi.org/10.1016/j.rse.2021.112510","code":""},{"path":[]},{"path":"/reference/sample_strat.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Stratified sampling — sample_strat","text":"Tristan R.H. Goodbody & Martin Queinnec","code":""},{"path":"/reference/sample_strat.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Stratified sampling — sample_strat","text":"","code":"#--- Load raster and access files ---# r <- system.file(\"extdata\", \"kmeans.tif\", package = \"sgsR\") sr <- terra::rast(r)  a <- system.file(\"extdata\", \"roads.shp\", package = \"sgsR\") ac <- sf::st_read(a) #> Reading layer `roads' from data source  #>   `C:\\Users\\tgood.stu\\AppData\\Local\\Temp\\RtmpCYYtR3\\temp_libpath29b8306a58fc\\sgsR\\extdata\\roads.shp'  #>   using driver `ESRI Shapefile' #> Simple feature collection with 167 features and 2 fields #> Geometry type: MULTILINESTRING #> Dimension:     XY #> Bounding box:  xmin: 431100 ymin: 5337700 xmax: 438560 ymax: 5343240 #> Projected CRS: UTM_Zone_17_Northern_Hemisphere  e <- system.file(\"extdata\", \"existing.shp\", package = \"sgsR\") e <- sf::st_read(e) #> Reading layer `existing' from data source  #>   `C:\\Users\\tgood.stu\\AppData\\Local\\Temp\\RtmpCYYtR3\\temp_libpath29b8306a58fc\\sgsR\\extdata\\existing.shp'  #>   using driver `ESRI Shapefile' #> Simple feature collection with 100 features and 1 field #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: 431110 ymin: 5337750 xmax: 438550 ymax: 5343230 #> CRS:           unknown  #--- perform stratified sampling random sampling ---# sample_strat(   sraster = sr,   nSamp = 200,   plot = TRUE ) #> Implementing porportional allocation of samples #> nSamp of 200 is not perfectly divisible based on strata distribution. nSamp of 199 will be returned. Use \"force = TRUE\" to brute force to 200. #> Processing strata : 1 #> Processing strata : 2 #> Processing strata : 3 #> Processing strata : 4 #> Processing strata : 5 #> Processing strata : 6 #> Processing strata : 7 #> Processing strata : 8 #> Processing strata : 9 #> Processing strata : 10  #> Simple feature collection with 199 features and 3 fields #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: 431130 ymin: 5337750 xmax: 438530 ymax: 5343210 #> CRS:           +proj=utm +zone=17 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs #> First 10 features: #>    strata type  rule               geometry #> x       1  new rule1 POINT (431310 5342650) #> x1      1  new rule1 POINT (433450 5338950) #> x2      1  new rule1 POINT (436770 5341350) #> x3      1  new rule1 POINT (435490 5340170) #> x4      1  new rule1 POINT (438110 5341850) #> x5      1  new rule1 POINT (433290 5338050) #> x6      1  new rule1 POINT (431290 5342670) #> x7      1  new rule1 POINT (433430 5338970) #> x8      1  new rule1 POINT (437050 5340990) #> x9      1  new rule1 POINT (436770 5341330)  #--- perform stratified sampling random sampling ---# sample_strat(   sraster = sr,   nSamp = 200,   plot = TRUE,   force = TRUE ) #> Implementing porportional allocation of samples #> Forcing 200 total samples. #> Processing strata : 1 #> Processing strata : 2 #> Processing strata : 3 #> Processing strata : 4 #> Processing strata : 5 #> Processing strata : 6 #> Processing strata : 7 #> Processing strata : 8 #> Processing strata : 9 #> Processing strata : 10  #> Simple feature collection with 200 features and 3 fields #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: 431210 ymin: 5337730 xmax: 438530 ymax: 5343210 #> CRS:           +proj=utm +zone=17 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs #> First 10 features: #>    strata type  rule               geometry #> x       1  new rule1 POINT (432730 5338350) #> x1      1  new rule1 POINT (433430 5338970) #> x2      1  new rule1 POINT (433450 5338930) #> x3      1  new rule1 POINT (433310 5338050) #> x4      1  new rule1 POINT (437350 5340150) #> x5      1  new rule1 POINT (438490 5340850) #> x6      1  new rule1 POINT (433190 5338770) #> x7      1  new rule1 POINT (433510 5339190) #> x8      1  new rule1 POINT (437130 5340170) #> x9      1  new rule1 POINT (432770 5338430)  #--- extract strata values to existing samples ---# e.sr <- extract_strata(sraster = sr, existing = e)  sample_strat(   sraster = sr,   nSamp = 200,   access = ac,   existing = e.sr,   mindist = 200,   buff_inner = 50,   buff_outer = 200 ) #> Implementing porportional allocation of samples #> nSamp of 200 is not perfectly divisible based on strata distribution. nSamp of 199 will be returned. Use \"force = TRUE\" to brute force to 200. #> An access layer has been provided. An internal buffer of 50 m and an external buffer of 200 m have been applied #> Processing strata : 1 #> Buffered area contains 2273 available candidates. Sampling to reach 13 samples starting. #> Processing strata : 2 #> Buffered area contains 6190 available candidates. Sampling to reach 29 samples starting. #> Processing strata : 3 #> Buffered area contains 2213 available candidates. Sampling to reach 14 samples starting. #> Processing strata : 4 #> Buffered area contains 3230 available candidates. Sampling to reach 21 samples starting. #> Processing strata : 5 #> Buffered area contains 4430 available candidates. Sampling to reach 25 samples starting. #> Processing strata : 6 #> Buffered area contains 4338 available candidates. Sampling to reach 24 samples starting. #> Processing strata : 7 #> Buffered area contains 3774 available candidates. Sampling to reach 24 samples starting. #> Processing strata : 8 #> Buffered area contains 4061 available candidates. Sampling to reach 16 samples starting. #> Processing strata : 9 #> Buffered area contains 6063 available candidates. Sampling to reach 23 samples starting. #> Processing strata : 10 #> Buffered area contains 1666 available candidates. Sampling to reach 10 samples starting. #> Simple feature collection with 299 features and 3 fields #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: 431110 ymin: 5337730 xmax: 438550 ymax: 5343230 #> CRS:           +proj=utm +zone=17 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs #> First 10 features: #>    strata     type     rule               geometry #> 36      1 existing existing POINT (431930 5338510) #> 41      1 existing existing POINT (433990 5341870) #> x       1      new    rule1 POINT (438390 5340830) #> x1      1      new    rule1 POINT (438090 5341850) #> x2      1      new    rule1 POINT (431290 5342670) #> x3      1      new    rule2 POINT (431970 5338090) #> x4      1      new    rule2 POINT (437290 5341950) #> x5      1      new    rule2 POINT (434130 5338030) #> x6      1      new    rule2 POINT (432950 5339510) #> x7      1      new    rule2 POINT (435270 5339470)  sample_strat(   sraster = sr,   nSamp = 200,   access = ac,   buff_inner = 50,   buff_outer = 200,   filename = tempfile(fileext = \".shp\") ) #> Implementing porportional allocation of samples #> nSamp of 200 is not perfectly divisible based on strata distribution. nSamp of 199 will be returned. Use \"force = TRUE\" to brute force to 200. #> An access layer has been provided. An internal buffer of 50 m and an external buffer of 200 m have been applied #> Processing strata : 1 #> Buffered area contains 2273 available candidates. Sampling to reach 13 samples starting. #> Processing strata : 2 #> Buffered area contains 6190 available candidates. Sampling to reach 29 samples starting. #> Processing strata : 3 #> Buffered area contains 2213 available candidates. Sampling to reach 14 samples starting. #> Processing strata : 4 #> Buffered area contains 3230 available candidates. Sampling to reach 21 samples starting. #> Processing strata : 5 #> Buffered area contains 4430 available candidates. Sampling to reach 25 samples starting. #> Processing strata : 6 #> Buffered area contains 4338 available candidates. Sampling to reach 24 samples starting. #> Processing strata : 7 #> Buffered area contains 3774 available candidates. Sampling to reach 24 samples starting. #> Processing strata : 8 #> Buffered area contains 4061 available candidates. Sampling to reach 16 samples starting. #> Processing strata : 9 #> Buffered area contains 6063 available candidates. Sampling to reach 23 samples starting. #> Processing strata : 10 #> Buffered area contains 1666 available candidates. Sampling to reach 10 samples starting. #> Writing layer `file77bc59d31806' to data source  #>   `C:\\Users\\tgood.stu\\AppData\\Local\\Temp\\RtmporEPgO\\file77bc59d31806.shp' using driver `ESRI Shapefile' #> Writing 199 features with 3 fields and geometry type Point. #> Simple feature collection with 199 features and 3 fields #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: 431230 ymin: 5337750 xmax: 438490 ymax: 5343130 #> CRS:           +proj=utm +zone=17 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs #> First 10 features: #>    strata type  rule               geometry #> x       1  new rule1 POINT (438390 5340830) #> x1      1  new rule1 POINT (438090 5341850) #> x2      1  new rule1 POINT (438110 5341850) #> x3      1  new rule1 POINT (438490 5340850) #> x4      1  new rule1 POINT (431310 5342670) #> x5      1  new rule1 POINT (438370 5340830) #> x6      1  new rule1 POINT (431290 5342670) #> x7      1  new rule2 POINT (436710 5341430) #> x8      1  new rule2 POINT (434730 5341070) #> x9      1  new rule2 POINT (433150 5342970)  #--- Load mraster for optimal allocation ---# mr <- system.file(\"extdata\", \"wall_metrics.tif\", package = \"sgsR\") mr <- terra::rast(mr)  sample_strat(   sraster = sr,   nSamp = 200,   allocation = \"optim\",   mraster = mr$zmax,   access = ac,   buff_inner = 50,   buff_outer = 200,   filename = tempfile(fileext = \".shp\") ) #> Implementing optimal allocation of samples based on variability of 'zmax' #> An access layer has been provided. An internal buffer of 50 m and an external buffer of 200 m have been applied #> Processing strata : 1 #> Buffered area contains 2273 available candidates. Sampling to reach 18 samples starting. #> Processing strata : 2 #> Buffered area contains 6190 available candidates. Sampling to reach 29 samples starting. #> Processing strata : 3 #> Buffered area contains 2213 available candidates. Sampling to reach 18 samples starting. #> Processing strata : 4 #> Buffered area contains 3230 available candidates. Sampling to reach 18 samples starting. #> Processing strata : 5 #> Buffered area contains 4430 available candidates. Sampling to reach 21 samples starting. #> Processing strata : 6 #> Buffered area contains 4338 available candidates. Sampling to reach 23 samples starting. #> Processing strata : 7 #> Buffered area contains 3774 available candidates. Sampling to reach 24 samples starting. #> Processing strata : 8 #> Buffered area contains 4061 available candidates. Sampling to reach 19 samples starting. #> Processing strata : 9 #> Buffered area contains 6063 available candidates. Sampling to reach 14 samples starting. #> Processing strata : 10 #> Buffered area contains 1666 available candidates. Sampling to reach 16 samples starting. #> Writing layer `file77bc13b733a4' to data source  #>   `C:\\Users\\tgood.stu\\AppData\\Local\\Temp\\RtmporEPgO\\file77bc13b733a4.shp' using driver `ESRI Shapefile' #> Writing 200 features with 3 fields and geometry type Point. #> Simple feature collection with 200 features and 3 fields #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: 431290 ymin: 5337770 xmax: 438490 ymax: 5343210 #> CRS:           +proj=utm +zone=17 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs #> First 10 features: #>    strata type  rule               geometry #> x       1  new rule1 POINT (438090 5341850) #> x1      1  new rule1 POINT (438110 5341850) #> x2      1  new rule1 POINT (438390 5340830) #> x3      1  new rule1 POINT (431310 5342670) #> x4      1  new rule1 POINT (431290 5342670) #> x5      1  new rule1 POINT (438370 5340830) #> x6      1  new rule1 POINT (438490 5340850) #> x7      1  new rule2 POINT (438230 5338930) #> x8      1  new rule2 POINT (433230 5342010) #> x9      1  new rule2 POINT (435250 5339750)"},{"path":"/reference/sample_systematic.html","id":null,"dir":"Reference","previous_headings":"","what":"Systematic sampling — sample_systematic","title":"Systematic sampling — sample_systematic","text":"Systematic sampling within square hexagonal tessellation.","code":""},{"path":"/reference/sample_systematic.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Systematic sampling — sample_systematic","text":"","code":"sample_systematic(   raster,   cellsize,   square = TRUE,   location = \"centers\",   access = NULL,   buff_inner = NULL,   buff_outer = NULL,   plot = FALSE,   filename = NULL,   overwrite = FALSE,   details = FALSE,   ... )"},{"path":"/reference/sample_systematic.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Systematic sampling — sample_systematic","text":"raster spatRaster. Raster used define extent fishnet grid. cellsize Numeric. Desired cellsize tessellation. square Logical. Tessellation shape. Default regular square grid, FALSE hexagons returned. location Character. Sample location within tessellation. Default (\"centers\") returns samples tessellation centers, \"corners\" - corners returned, \"random\" - samples randomly located within tessellations. access sf. Road access network - must lines. buff_inner Numeric. Inner buffer boundary specifying distance access plots sampled. buff_outer Numeric. Outer buffer boundary specifying distance access plots can sampled. plot Logical. Plots output strata raster samples. filename Character. Path write output samples. overwrite Logical. Choice overwrite existing filename exists. details Logical. FALSE (default) output sf object systematic samples. TRUE returns list sf objects tessellation tessellation grid sampling, samples systematic samples. ... Additional arguments st_make_grid.","code":""},{"path":"/reference/sample_systematic.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Systematic sampling — sample_systematic","text":"sf object sampled points tessellation.","code":""},{"path":[]},{"path":"/reference/sample_systematic.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Systematic sampling — sample_systematic","text":"Tristan R.H. Goodbody","code":""},{"path":"/reference/sample_systematic.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Systematic sampling — sample_systematic","text":"","code":"#--- Load raster and access files ---# r <- system.file(\"extdata\", \"kmeans.tif\", package = \"sgsR\") sr <- terra::rast(r)  a <- system.file(\"extdata\", \"roads.shp\", package = \"sgsR\") ac <- sf::st_read(a) #> Reading layer `roads' from data source  #>   `C:\\Users\\tgood.stu\\AppData\\Local\\Temp\\RtmpCYYtR3\\temp_libpath29b8306a58fc\\sgsR\\extdata\\roads.shp'  #>   using driver `ESRI Shapefile' #> Simple feature collection with 167 features and 2 fields #> Geometry type: MULTILINESTRING #> Dimension:     XY #> Bounding box:  xmin: 431100 ymin: 5337700 xmax: 438560 ymax: 5343240 #> Projected CRS: UTM_Zone_17_Northern_Hemisphere  e <- system.file(\"extdata\", \"existing.shp\", package = \"sgsR\") e <- sf::st_read(e) #> Reading layer `existing' from data source  #>   `C:\\Users\\tgood.stu\\AppData\\Local\\Temp\\RtmpCYYtR3\\temp_libpath29b8306a58fc\\sgsR\\extdata\\existing.shp'  #>   using driver `ESRI Shapefile' #> Simple feature collection with 100 features and 1 field #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: 431110 ymin: 5337750 xmax: 438550 ymax: 5343230 #> CRS:           unknown  #--- perform grid sampling ---# sample_systematic(   raster = sr,   cellsize = 1000,   plot = TRUE )  #> Simple feature collection with 40 features and 0 fields #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: 431600 ymin: 5338200 xmax: 437600 ymax: 5343200 #> CRS:           +proj=utm +zone=17 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs #> First 10 features: #>                  geometry #> 1  POINT (431600 5338200) #> 2  POINT (432600 5338200) #> 3  POINT (433600 5338200) #> 4  POINT (434600 5338200) #> 5  POINT (435600 5338200) #> 6  POINT (436600 5338200) #> 7  POINT (437600 5338200) #> 8  POINT (432600 5339200) #> 9  POINT (433600 5339200) #> 10 POINT (434600 5339200)  sample_systematic(   raster = sr,   cellsize = 1000,   square = FALSE,   location = \"corners\",   plot = TRUE )  #> Simple feature collection with 312 features and 0 fields #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: 431100 ymin: 5337989 xmax: 438100 ymax: 5343185 #> CRS:           +proj=utm +zone=17 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs #> First 10 features: #>                  geometry #> 1  POINT (431100 5338855) #> 2  POINT (431100 5338277) #> 3  POINT (431100 5340587) #> 4  POINT (431100 5340009) #> 5  POINT (431100 5342319) #> 6  POINT (431100 5338277) #> 7  POINT (431600 5337989) #> 8  POINT (431100 5338855) #> 9  POINT (431100 5340009) #> 10 POINT (431600 5339721)  sample_systematic(   raster = sr,   cellsize = 1000,   access = ac,   buff_inner = 50,   buff_outer = 200 ) #> An access layer has been provided. An internal buffer of 50 m and an external buffer of 200 m have been applied #> Simple feature collection with 15 features and 0 fields #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: 432600 ymin: 5338200 xmax: 437600 ymax: 5343200 #> CRS:           +proj=utm +zone=17 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs #> First 10 features: #>                  geometry #> 1  POINT (434600 5338200) #> 2  POINT (436600 5338200) #> 3  POINT (432600 5339200) #> 4  POINT (434600 5339200) #> 5  POINT (437600 5339200) #> 6  POINT (435600 5340200) #> 7  POINT (432600 5341200) #> 8  POINT (433600 5341200) #> 9  POINT (434600 5341200) #> 10 POINT (432600 5342200)  sample_systematic(   raster = sr,   cellsize = 1000,   square = FALSE,   location = \"random\" ) #> Simple feature collection with 41 features and 0 fields #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: 431366.8 ymin: 5337726 xmax: 438442.7 ymax: 5343171 #> CRS:           +proj=utm +zone=17 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs #> First 10 features: #>                    geometry #> 1  POINT (431445.2 5338327) #> 2  POINT (431569.5 5340323) #> 3  POINT (431366.8 5341687) #> 4  POINT (432378.1 5337726) #> 5  POINT (431813.5 5341145) #> 6  POINT (432108.8 5343119) #> 7    POINT (432859 5338521) #> 8  POINT (432847.2 5340555) #> 9  POINT (432343.2 5341827) #> 10 POINT (433014.2 5338015)"},{"path":"/reference/sgsR-package.html","id":null,"dir":"Reference","previous_headings":"","what":"sgsR: Structurally Guided Sampling Approaches using ALS Data — sgsR-package","title":"sgsR: Structurally Guided Sampling Approaches using ALS Data — sgsR-package","text":"package provides functions enable stratification sampling structurally guided sampling using ALS data.","code":""},{"path":"/reference/sgsR-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"sgsR: Structurally Guided Sampling Approaches using ALS Data — sgsR-package","text":"Maintainer: Tristan RH Goodbody goodbody.t@gmail.com (ORCID) Authors: Nicholas C Coops nicholas.coops@ubc.ca (ORCID)","code":""},{"path":"/reference/strat_breaks.html","id":null,"dir":"Reference","previous_headings":"","what":"Breaks stratification — strat_breaks","title":"Breaks stratification — strat_breaks","text":"Stratify metrics raster using user defined breaks","code":""},{"path":"/reference/strat_breaks.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Breaks stratification — strat_breaks","text":"","code":"strat_breaks(   mraster,   mraster2 = NULL,   breaks,   breaks2 = NULL,   plot = FALSE,   details = FALSE,   filename = NULL,   overwrite = FALSE,   ... )"},{"path":"/reference/strat_breaks.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Breaks stratification — strat_breaks","text":"mraster Spatraster. Primary covariate raster stratify. mraster2 Spatraster. Secondary covariate raster stratify. breaks Numeric. Vector breakpoints mraster breaks2 Numeric. Vector breakpoints mraster2 (provided) plot Logical. Plots output strata raster visualized strata boundary dividers. details Logical. FALSE (default) output  stratification raster. TRUE return list $details additional stratification information  $raster output stratification spatRaster.  @param ... Additional arguments passed kmeans function. filename Character. Path write stratified raster disc. overwrite Logical. Specify whether filename overwritten disc. ... Additional arguments writing files. See writeRaster.","code":""},{"path":"/reference/strat_breaks.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Breaks stratification — strat_breaks","text":"Returns output stratification spatRaster list details = TRUE. list returned: details list output prcomp function raster stratified spatRaster based quantiles plot ggplot histogram object showing distribution break points.","code":""},{"path":[]},{"path":"/reference/strat_breaks.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Breaks stratification — strat_breaks","text":"Tristan R.H. Goodbody","code":""},{"path":"/reference/strat_breaks.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Breaks stratification — strat_breaks","text":"","code":"#--- Load raster ---# r <- system.file(\"extdata\", \"wall_metrics.tif\", package = \"sgsR\") mr <- terra::rast(r)  #--- create vector breaks ---# br.max <- c(3, 5, 11, 18) br.sd <- c(1, 2, 5)  strat_breaks(   mraster = mr$zmax,   breaks = br.max,   plot = TRUE,   details = TRUE )   #> $details #> $details$breaks #> [1]  3  5 11 18 #>  #> $details$breaks2 #> NULL #>  #>  #> $raster #> class       : SpatRaster  #> dimensions  : 277, 373, 1  (nrow, ncol, nlyr) #> resolution  : 20, 20  (x, y) #> extent      : 431100, 438560, 5337700, 5343240  (xmin, xmax, ymin, ymax) #> coord. ref. : UTM Zone 17, Northern Hemisphere  #> source      : memory  #> name        : strata  #> min value   :      1  #> max value   :      5  #>  #> $plot #> `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.  #>   strat_breaks(   mraster = mr$zmax,   mraster2 = mr$zsd,   breaks = br.max,   breaks2 = br.sd,   plot = TRUE )   #> class       : SpatRaster  #> dimensions  : 277, 373, 1  (nrow, ncol, nlyr) #> resolution  : 20, 20  (x, y) #> extent      : 431100, 438560, 5337700, 5343240  (xmin, xmax, ymin, ymax) #> coord. ref. : UTM Zone 17, Northern Hemisphere  #> source      : memory  #> name        : strata  #> min value   :      1  #> max value   :     16"},{"path":"/reference/strat_kmeans.html","id":null,"dir":"Reference","previous_headings":"","what":"k-means stratification — strat_kmeans","title":"k-means stratification — strat_kmeans","text":"Stratify metrics raster using kmeans algorithm","code":""},{"path":"/reference/strat_kmeans.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"k-means stratification — strat_kmeans","text":"","code":"strat_kmeans(   mraster,   nStrata,   iter = 500,   algorithm = \"Lloyd\",   center = TRUE,   scale = TRUE,   plot = FALSE,   details = FALSE,   filename = NULL,   overwrite = FALSE,   ... )"},{"path":"/reference/strat_kmeans.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"k-means stratification — strat_kmeans","text":"mraster spatRaster. ALS metrics raster. nStrata Character. Number desired strata. iter Numeric. maximum number iterations allowed. algorithm Character. Lloyd (default) MacQueen algorithms. center Logical. Value indicating whether variables shifted zero centered. scale Logical. Value indicating whether variables scaled unit variance plot Logical. Plots output strata raster visualized strata boundary dividers. details Logical. FALSE (default) output  stratification raster. TRUE return list $details additional stratification information  $raster output stratification spatRaster.  @param ... Additional arguments passed kmeans function. filename Character. Path write stratified raster disc. overwrite Logical. Specify whether filename overwritten disc. ... Additional arguments writing files. See writeRaster.","code":""},{"path":"/reference/strat_kmeans.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"k-means stratification — strat_kmeans","text":"output stratification spatRaster, list details = TRUE.","code":""},{"path":[]},{"path":"/reference/strat_kmeans.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"k-means stratification — strat_kmeans","text":"Tristan R.H. Goodbody","code":""},{"path":"/reference/strat_kmeans.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"k-means stratification — strat_kmeans","text":"","code":"#--- Load raster and access files ---# r <- system.file(\"extdata\", \"wall_metrics.tif\", package = \"sgsR\") mr <- terra::rast(r)  #--- perform stratification using k-means ---# kmeans <- strat_kmeans(   mraster = mr,   nStrata = 5 ) #> K-means being performed on 9 layers with 5 centers.  kmeans <- strat_kmeans(   mraster = mr,   nStrata = 5,   iter = 1000,   algorithm = \"MacQueen\",   plot = TRUE,   details = TRUE ) #> K-means being performed on 9 layers with 5 centers.   kmeans <- strat_kmeans(   mraster = mr,   nStrata = 5,   iter = 1000,   plot = TRUE,   filename = tempfile(fileext = \".tif\"),   overwrite = TRUE ) #> K-means being performed on 9 layers with 5 centers."},{"path":"/reference/strat_map.html","id":null,"dir":"Reference","previous_headings":"","what":"Map 2 stratified rasters — strat_map","title":"Map 2 stratified rasters — strat_map","text":"Map stratified rasters combined stratification.","code":""},{"path":"/reference/strat_map.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Map 2 stratified rasters — strat_map","text":"","code":"strat_map(   sraster,   sraster2,   stack = FALSE,   filename = NULL,   overwrite = FALSE,   plot = FALSE,   details = FALSE,   ... )"},{"path":"/reference/strat_map.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Map 2 stratified rasters — strat_map","text":"sraster spatRaster. Primary stratification raster. sraster2 spatRaster. Secondary stratification raster. stack Logical. Default = FALSE. TRUE, output raster 3 layers: strata, strata2, stratamapped. filename Character. Path write stratified raster disc. overwrite Logical. Specify whether filename overwritten disc. plot Logical. Plots output strata raster visualized strata boundary dividers. details Logical. FALSE (default) output mapped stratified spatRaster object. TRUE return list $outRaster mapped stratified raster, $lookUp lookup table stratification. ... Additional arguments writing files. See writeRaster.","code":""},{"path":"/reference/strat_map.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Map 2 stratified rasters — strat_map","text":"spatRaster object.","code":""},{"path":"/reference/strat_map.html","id":"mapping","dir":"Reference","previous_headings":"","what":"Mapping","title":"Map 2 stratified rasters — strat_map","text":"mapping algorithm take stratification sraster combine overlying strata values sraster2. result stratamapped attribute values inputs combined. .e. strata = 1 strata2 = 1 stratamapped = 11. strata = 2 strata2 = 14 stratamapped = 214.","code":""},{"path":[]},{"path":"/reference/strat_map.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Map 2 stratified rasters — strat_map","text":"Tristan R.H. Goodbody","code":""},{"path":"/reference/strat_map.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Map 2 stratified rasters — strat_map","text":"","code":"#--- load input metrics raster ---# raster <- system.file(\"extdata\", \"kmeans.tif\", package = \"sgsR\") srasterkmeans <- terra::rast(raster)  #--- read polygon coverage ---# poly <- system.file(\"extdata\", \"inventory_polygons.shp\", package = \"sgsR\") fri <- sf::st_read(poly) #> Reading layer `inventory_polygons' from data source  #>   `C:\\Users\\tgood.stu\\AppData\\Local\\Temp\\RtmpCYYtR3\\temp_libpath29b8306a58fc\\sgsR\\extdata\\inventory_polygons.shp'  #>   using driver `ESRI Shapefile' #> Simple feature collection with 632 features and 3 fields #> Geometry type: MULTIPOLYGON #> Dimension:     XY #> Bounding box:  xmin: 431100 ymin: 5337700 xmax: 438560 ymax: 5343240 #> Projected CRS: UTM_Zone_17_Northern_Hemisphere  #--- stratify polygon coverage ---# #--- specify polygon attribute to stratify ---#  attribute <- \"NUTRIENTS\"  #--- specify features within attribute & how they should be grouped ---# #--- as a single vector ---#  features <- c(\"poor\", \"rich\", \"medium\")  srasterfri <- strat_poly(   poly = fri,   attribute = attribute,   features = features,   raster = srasterkmeans,   plot = TRUE )   #--- map srasters ---# strat_map(   sraster = srasterfri,   sraster2 = srasterkmeans,   plot = TRUE )  #> class       : SpatRaster  #> dimensions  : 277, 373, 1  (nrow, ncol, nlyr) #> resolution  : 20, 20  (x, y) #> extent      : 431100, 438560, 5337700, 5343240  (xmin, xmax, ymin, ymax) #> coord. ref. : UTM Zone 17, Northern Hemisphere  #> source      : memory  #> name        : strata  #> min value   :     11  #> max value   :    310   strat_map(   sraster = srasterfri,   sraster2 = srasterkmeans,   stack = TRUE,   details = TRUE,   plot = TRUE ) #> Stacking sraster, sraster2, and their combination (stratamapped).  #> $outRaster #> class       : SpatRaster  #> dimensions  : 277, 373, 3  (nrow, ncol, nlyr) #> resolution  : 20, 20  (x, y) #> extent      : 431100, 438560, 5337700, 5343240  (xmin, xmax, ymin, ymax) #> coord. ref. : UTM Zone 17, Northern Hemisphere  #> sources     : memory   #>               kmeans.tif   #>               memory   #> names       : strata, strata2, stratamapped  #> min values  :      1,       1,           11  #> max values  :      3,      10,          310  #>  #> $lookUp #>    strata strata2 stratamapped #> 1       3       2           32 #> 2       3       8           38 #> 3       3       7           37 #> 4       3       5           35 #> 5       1       4           14 #> 6       1       1           11 #> 7       1       3           13 #> 8       1       6           16 #> 9       1      10          110 #> 10      3       4           34 #> 11      3       6           36 #> 12      3       1           31 #> 13      1       7           17 #> 14      1       5           15 #> 15      1       9           19 #> 16      1       8           18 #> 17      1       2           12 #> 18      2       8           28 #> 19      2       7           27 #> 20      2      10          210 #> 21      2       4           24 #> 22      2       5           25 #> 23      2       2           22 #> 24      3       3           33 #> 25      3      10          310 #> 26      3       9           39 #> 27      2       6           26 #> 28      2       3           23 #> 29      2       1           21 #> 30      2       9           29 #>"},{"path":"/reference/strat_osb.html","id":null,"dir":"Reference","previous_headings":"","what":"Determine optimum sample boundaries — strat_osb","title":"Determine optimum sample boundaries — strat_osb","text":"Determine optimum sample boundaries algorithm univariate populations using strata.data algorithm.","code":""},{"path":"/reference/strat_osb.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Determine optimum sample boundaries — strat_osb","text":"","code":"strat_osb(   mraster,   nStrata,   nSamp,   subset = 1,   plot = FALSE,   details = FALSE,   filename = NULL,   overwrite = FALSE,   ... )"},{"path":"/reference/strat_osb.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Determine optimum sample boundaries — strat_osb","text":"mraster spatRaster. ALS metrics raster. nStrata Numeric. Number desired output strata. nSamp Numeric. Number desired samples - used within OSB algorithm help determine break points. subset Numeric. Value 0 1 (default) denoting proportion data use determine optimum sample boundaries. plot Logical. Plots output strata raster visualized strata boundary dividers. details Logical. FALSE (default) output  stratification raster. TRUE return list $details additional stratification information  $raster output stratification spatRaster.  @param ... Additional arguments passed kmeans function. filename Character. Path write stratified raster disc. overwrite Logical. Specify whether filename overwritten disc. ... Additional arguments writing files. See writeRaster.","code":""},{"path":"/reference/strat_osb.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Determine optimum sample boundaries — strat_osb","text":"Returns output stratification spatRaster list details = TRUE. list returned: details list output strata.data function OSB optimum stratum boundaries nh optimum sample sizes stratum. osb vector optimum stratum boundaries. breaks matrix associated metric strata break values. raster stratified spatRaster based OSB.","code":""},{"path":"/reference/strat_osb.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Determine optimum sample boundaries — strat_osb","text":"Khan, E. ., Khan, M. G. M., & Ahsan, M. J. (2002). Optimum Stratification: Mathematical Programming Approach. Calcutta Statistical Association Bulletin, 52(1–4), 323–334. https://doi.org/10.1177/0008068320020518 Khan, M. G. M., Nand, N., & Ahmad, N. (2008). Determining optimum strata boundary points using dynamic programming. Survey methodology, 34(2), 205-214. M.G.M. Khan, K.G. Reddy & D.K. Rao (2015) Designing stratified sampling economic business surveys, Journal Applied Statistics, 42:10, 2080-2099, DOI: 10.1080/02664763.2015.1018674","code":""},{"path":[]},{"path":"/reference/strat_osb.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Determine optimum sample boundaries — strat_osb","text":"Tristan R.H. Goodbody","code":""},{"path":[]},{"path":"/reference/strat_pcomp.html","id":null,"dir":"Reference","previous_headings":"","what":"Principal components stratification — strat_pcomp","title":"Principal components stratification — strat_pcomp","text":"Stratify metrics raster using principal components quantile breaks","code":""},{"path":"/reference/strat_pcomp.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Principal components stratification — strat_pcomp","text":"","code":"strat_pcomp(   mraster,   nStrata,   nStrata2 = NULL,   center = TRUE,   scale = TRUE,   plot = FALSE,   samp = 1,   details = FALSE,   filename = NULL,   overwrite = FALSE,   ... )"},{"path":"/reference/strat_pcomp.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Principal components stratification — strat_pcomp","text":"mraster Spatraster. Covariate raster stratify. nStrata Numeric. Number strata primary principal component. nStrata2 Numeric. Number strata secondary principal component. center Logical. Value indicating whether variables shifted zero centered. scale Logical. Value indicating whether variables scaled unit variance plot Logical. Plots output strata raster visualized strata boundary dividers. details Logical. FALSE (default) output  stratification raster. TRUE return list $details additional stratification information  $raster output stratification spatRaster.  @param ... Additional arguments passed kmeans function. filename Character. Path write stratified raster disc. overwrite Logical. Specify whether filename overwritten disc. ... Additional arguments passed prcomp.","code":""},{"path":"/reference/strat_pcomp.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Principal components stratification — strat_pcomp","text":"Returns output stratification spatRaster list details = TRUE. list returned: details list output prcomp function raster stratified spatRaster based PCA plot ggplot scatter plot object strata colour coded strata boundaries delineated","code":""},{"path":[]},{"path":"/reference/strat_pcomp.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Principal components stratification — strat_pcomp","text":"Tristan R.H. Goodbody","code":""},{"path":"/reference/strat_pcomp.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Principal components stratification — strat_pcomp","text":"","code":"#--- Load raster and access files ---# r <- system.file(\"extdata\", \"wall_metrics.tif\", package = \"sgsR\") mr <- terra::rast(r)  strat_pcomp(   mraster = mr,   nStrata = 5,   plot = TRUE )  #> class       : SpatRaster  #> dimensions  : 277, 373, 1  (nrow, ncol, nlyr) #> resolution  : 20, 20  (x, y) #> extent      : 431100, 438560, 5337700, 5343240  (xmin, xmax, ymin, ymax) #> coord. ref. : UTM Zone 17, Northern Hemisphere  #> source      : memory  #> name        : strata  #> min value   :      1  #> max value   :      5   strat_pcomp(   mraster = mr,   nStrata = 4,   nStrata2 = 4,   plot = TRUE,   details = TRUE )  #> $details #> Standard deviations (1, .., p=9): #> [1] 2.66328897 1.09805898 0.66339469 0.41858538 0.22109594 0.14478794 #> [7] 0.09669328 0.07739106 0.02581106 #>  #> Rotation (n x k) = (9 x 9): #>                PC1         PC2         PC3         PC4         PC5 #> zmax     0.3718561  0.05890652  0.13655303  0.18644188 -0.02967021 #> zmean    0.2892076  0.11179079 -0.94037185  0.11669464 -0.01101177 #> zsd      0.2902484 -0.57132611  0.07358411 -0.03485495 -0.12710815 #> pzabove2 0.2762415  0.57389014  0.11046261 -0.48982874 -0.53278380 #> zq20     0.3222793  0.42913513  0.17765055  0.04688184  0.69772164 #> zq50     0.3621931  0.06711670  0.16260903  0.50497308 -0.03554264 #> zq70     0.3669446 -0.07622676  0.13483825  0.33474905 -0.33679147 #> zq90     0.3576125 -0.24286784  0.04467110 -0.28486752  0.00494469 #> zq95     0.3463317 -0.27351876 -0.03548477 -0.50997312  0.31217248 #>                   PC6          PC7         PC8          PC9 #> zmax     -0.022902433  0.058181544  0.12813760 -0.885232514 #> zmean     0.061423536  0.005559276 -0.04493042  0.001085691 #> zsd       0.373461072 -0.062831197 -0.65029797 -0.015746780 #> pzabove2  0.007219003  0.005909104 -0.23569527  0.052045306 #> zq20      0.371793616 -0.128585416 -0.12943905  0.141020587 #> zq50     -0.525190662  0.398814446 -0.24627692  0.293390931 #> zq70      0.136444231 -0.587797301  0.42249155  0.270652072 #> zq90      0.287643242  0.607152727  0.49439800  0.184814994 #> zq95     -0.583751620 -0.320739852  0.05279230  0.005601089 #>  #> $raster #> class       : SpatRaster  #> dimensions  : 277, 373, 1  (nrow, ncol, nlyr) #> resolution  : 20, 20  (x, y) #> extent      : 431100, 438560, 5337700, 5343240  (xmin, xmax, ymin, ymax) #> coord. ref. : UTM Zone 17, Northern Hemisphere  #> source      : memory  #> name        : strata  #> min value   :      1  #> max value   :     16  #>  #> $plot  #>   strat_pcomp(   mraster = mr,   nStrata = 3,   nStrata2 = 3,   filename = tempfile(fileext = \".tif\") ) #> class       : SpatRaster  #> dimensions  : 277, 373, 1  (nrow, ncol, nlyr) #> resolution  : 20, 20  (x, y) #> extent      : 431100, 438560, 5337700, 5343240  (xmin, xmax, ymin, ymax) #> coord. ref. : UTM Zone 17, Northern Hemisphere  #> source      : memory  #> name        : strata  #> min value   :      1  #> max value   :      9"},{"path":"/reference/strat_poly.html","id":null,"dir":"Reference","previous_headings":"","what":"Stratify using polygons — strat_poly","title":"Stratify using polygons — strat_poly","text":"Stratify based polygon coverage attributes features.","code":""},{"path":"/reference/strat_poly.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Stratify using polygons — strat_poly","text":"","code":"strat_poly(   poly,   attribute,   features,   raster,   filename = NULL,   overwrite = FALSE,   plot = FALSE,   details = FALSE,   ... )"},{"path":"/reference/strat_poly.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Stratify using polygons — strat_poly","text":"poly sf. Input polygon coverage. e.g. - forest resources inventory coverage. attribute Character. Name attribute within poly stratified features vector/list. Vector list vectors features within attribute guide stratification. raster spatRaster. Raster template enable polygon raster conversion. filename Character. Path write stratified raster disc. overwrite Logical. Specify whether filename overwritten disc. plot Logical. Plots output spatRaster. details Logical. FALSE (default) output spatRaster object stratified polygon attributes. TRUE return list $outRaster stratified attributes, $lookUp lookup table stratification, poly defined polygon attribute corresponding features / strata ... Additional arguments writing files. See writeRaster.","code":""},{"path":"/reference/strat_poly.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Stratify using polygons — strat_poly","text":"spatRaster object.","code":""},{"path":[]},{"path":"/reference/strat_poly.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Stratify using polygons — strat_poly","text":"Tristan R.H. Goodbody","code":""},{"path":"/reference/strat_poly.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Stratify using polygons — strat_poly","text":"","code":"#--- load input metrics raster ---# raster <- system.file(\"extdata\", \"kmeans.tif\", package = \"sgsR\") sraster <- terra::rast(raster)  #--- read polygon coverage ---# poly <- system.file(\"extdata\", \"inventory_polygons.shp\", package = \"sgsR\") fri <- sf::st_read(poly) #> Reading layer `inventory_polygons' from data source  #>   `C:\\Users\\tgood.stu\\AppData\\Local\\Temp\\RtmpCYYtR3\\temp_libpath29b8306a58fc\\sgsR\\extdata\\inventory_polygons.shp'  #>   using driver `ESRI Shapefile' #> Simple feature collection with 632 features and 3 fields #> Geometry type: MULTIPOLYGON #> Dimension:     XY #> Bounding box:  xmin: 431100 ymin: 5337700 xmax: 438560 ymax: 5343240 #> Projected CRS: UTM_Zone_17_Northern_Hemisphere  #--- stratify polygon coverage ---# #--- specify polygon attribute to stratify ---#  attribute <- \"NUTRIENTS\"  #--- specify features within attribute & how they should be grouped ---# #--- as a single vector ---#  features <- c(\"poor\", \"rich\", \"medium\")  srasterpoly <- strat_poly(   poly = fri,   attribute = attribute,   features = features,   raster = sraster,   plot = TRUE )   #--- or as multiple lists ---#  g1 <- \"poor\" g2 <- c(\"rich\", \"medium\")  features <- list(g1, g2)  srasterpoly <- strat_poly(   poly = fri,   attribute = attribute,   features = features,   raster = sraster,   plot = TRUE,   details = TRUE )"},{"path":"/reference/tidyeval.html","id":null,"dir":"Reference","previous_headings":"","what":"Tidy eval helpers — tidyeval","title":"Tidy eval helpers — tidyeval","text":"sym() creates symbol string syms() creates list symbols character vector. enquo() enquos() delay execution one several function arguments. enquo() returns single quoted expression, like blueprint delayed computation. enquos() returns list quoted expressions. expr() quotes new expression locally. mostly useful build new expressions around arguments captured enquo() enquos(): expr(mean(!!enquo(arg), na.rm = TRUE)). as_name() transforms quoted variable name string. Supplying something else quoted variable name error. unlike as_label() also returns single string supports kind R object input, including quoted function calls vectors. purpose summarise object single label. label often suitable default name. know quoted expression contains (instance expressions captured enquo() variable name, call function, unquoted constant), use as_label(). know quoted simple variable name, like enforce , use as_name(). learn tidy eval use tools, visit https://tidyeval.tidyverse.org Metaprogramming section Advanced R.","code":""}]
